"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[45168],{680424:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>g,frontMatter:()=>p,metadata:()=>d,toc:()=>m});a(667294);var n=a(603905),l=a(451715),r=a(907626);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const p={id:"using-packages",title:"\xc0 partir des paquets"},u=void 0,d={unversionedId:"installation/installation-of-a-central-server/using-packages",id:"version-21.10/installation/installation-of-a-central-server/using-packages",title:"\xc0 partir des paquets",description:"Centreon fournit des RPM pour ses produits au travers de la solution",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-21.10/installation/installation-of-a-central-server/using-packages.md",sourceDirName:"installation/installation-of-a-central-server",slug:"/installation/installation-of-a-central-server/using-packages",permalink:"/centreon-documentation/pr-preview/pr-2591/fr/docs/21.10/installation/installation-of-a-central-server/using-packages",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-21.10/installation/installation-of-a-central-server/using-packages.md",tags:[],version:"21.10",lastUpdatedAt:1694527009,formattedLastUpdatedAt:"12 sept. 2023",frontMatter:{id:"using-packages",title:"\xc0 partir des paquets"},sidebar:"version-21.10/docs",previous:{title:"A partir de l'ISO Centreon",permalink:"/centreon-documentation/pr-preview/pr-2591/fr/docs/21.10/installation/installation-of-a-central-server/using-centreon-iso"},next:{title:"\xc0 partir d'une VM",permalink:"/centreon-documentation/pr-preview/pr-2591/fr/docs/21.10/installation/installation-of-a-central-server/using-virtual-machines"}},c={},m=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"\xc9tape 1 : pr\xe9-installation",id:"\xe9tape-1--pr\xe9-installation",level:2},{value:"D\xe9sactiver SELinux",id:"d\xe9sactiver-selinux",level:3},{value:"Configurer ou d\xe9sactiver le pare-feu",id:"configurer-ou-d\xe9sactiver-le-pare-feu",level:3},{value:"Installer les d\xe9p\xf4ts",id:"installer-les-d\xe9p\xf4ts",level:3},{value:"D\xe9p\xf4t remi et CodeReady Builder",id:"d\xe9p\xf4t-remi-et-codeready-builder",level:4},{value:"D\xe9p\xf4t remi",id:"d\xe9p\xf4t-remi",level:4},{value:"D\xe9p\xf4t remi et CodeReady Builder",id:"d\xe9p\xf4t-remi-et-codeready-builder-1",level:4},{value:"D\xe9p\xf4t <em>Software collections</em> de Red Hat",id:"d\xe9p\xf4t-software-collections-de-red-hat",level:4},{value:"D\xe9p\xf4t remi",id:"d\xe9p\xf4t-remi-1",level:4},{value:"D\xe9p\xf4t Centreon",id:"d\xe9p\xf4t-centreon",level:4},{value:"\xc9tape 2 : Installation",id:"\xe9tape-2--installation",level:2},{value:"Avec base de donn\xe9es locale",id:"avec-base-de-donn\xe9es-locale",level:3},{value:"Avec base de donn\xe9es d\xe9port\xe9e",id:"avec-base-de-donn\xe9es-d\xe9port\xe9e",level:3},{value:"\xc9tape 3 : Configuration",id:"\xe9tape-3--configuration",level:2},{value:"Nom du serveur",id:"nom-du-serveur",level:3},{value:"Fuseau horaire PHP",id:"fuseau-horaire-php",level:3},{value:"Lancement des services au d\xe9marrage",id:"lancement-des-services-au-d\xe9marrage",level:3},{value:"S\xe9curiser la base de donn\xe9es",id:"s\xe9curiser-la-base-de-donn\xe9es",level:3},{value:"\xc9tape 4 : Installation web",id:"\xe9tape-4--installation-web",level:2}],k={toc:m},v="wrapper";function g(e){var{components:t}=e,a=o(e,["components"]);return(0,n.kt)(v,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){s(e,t,a[t])}))}return e}({},k,a),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Centreon fournit des RPM pour ses produits au travers de la solution\nCentreon Open Source disponible gratuitement sur notre d\xe9p\xf4t."),(0,n.kt)("p",null,"Ces paquets ont \xe9t\xe9 test\xe9s avec succ\xe8s sur les environnements CentOS\nen version 7 et 8."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Cependant, suite au changement de strat\xe9gie effectu\xe9 par Red Hat, nous pensons\nqu'il est pr\xe9f\xe9rable de ne pas utiliser CentOS 8 en production. Ces paquets\npour CentOS 8 sont compatible avec RHEL et Oracle Linux en version 8.")),(0,n.kt)("p",null,"L'ensemble de la proc\xe9dure d'installation doit \xeatre faite en tant qu'utilisateur privil\xe9gi\xe9."),(0,n.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,n.kt)("p",null,"Apr\xe8s avoir install\xe9 votre serveur, r\xe9alisez la mise \xe0 jour de votre syst\xe8me\nd'exploitation via la commande :"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf update\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum update\n")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Acceptez toutes les cl\xe9s GPG propos\xe9es et pensez \xe0 red\xe9marrer votre serveur\nsi une mise \xe0 jour du noyau est propos\xe9e.")),(0,n.kt)("h2",{id:"\xe9tape-1--pr\xe9-installation"},"\xc9tape 1 : pr\xe9-installation"),(0,n.kt)("h3",{id:"d\xe9sactiver-selinux"},"D\xe9sactiver SELinux"),(0,n.kt)("p",null,"Pendant l'installation, SELinux doit \xeatre d\xe9sactiv\xe9. \xc9ditez le fichier\n",(0,n.kt)("strong",{parentName:"p"},"/etc/selinux/config")," et remplacez ",(0,n.kt)("strong",{parentName:"p"},"enforcing")," par ",(0,n.kt)("strong",{parentName:"p"},"disabled"),", ou bien\nex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"sed -i s/^SELINUX=.*$/SELINUX=disabled/ /etc/selinux/config\n")),(0,n.kt)("p",null,"Red\xe9marrez votre syst\xe8me d'exploitation pour prendre en compte le changement."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"reboot\n")),(0,n.kt)("p",null,"Apr\xe8s le red\xe9marrage, une v\xe9rification rapide permet de confirmer le statut de\nSELinux :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"$ getenforce\nDisabled\n")),(0,n.kt)("h3",{id:"configurer-ou-d\xe9sactiver-le-pare-feu"},"Configurer ou d\xe9sactiver le pare-feu"),(0,n.kt)("p",null,"Si votre pare-feu syst\xe8me est actif, ",(0,n.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2591/fr/docs/21.10/administration/secure-platform#enable-firewalld"},"param\xe9trez-le"),". Vous pouvez \xe9galement le d\xe9sactiver le temps de l'installation :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop firewalld\nsystemctl disable firewalld\n")),(0,n.kt)("h3",{id:"installer-les-d\xe9p\xf4ts"},"Installer les d\xe9p\xf4ts"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL 8",label:"RHEL 8",mdxType:"TabItem"},(0,n.kt)("h4",{id:"d\xe9p\xf4t-remi-et-codeready-builder"},"D\xe9p\xf4t remi et CodeReady Builder"),(0,n.kt)("p",null,"Afin d'installer les logiciels Centreon, les d\xe9p\xf4ts ",(0,n.kt)("strong",{parentName:"p"},"remi")," et ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," doivent \xeatre install\xe9s."),(0,n.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y dnf-plugins-core\ndnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\ndnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm\nsubscription-manager repos --enable codeready-builder-for-rhel-8-x86_64-rpms\n")),(0,n.kt)("p",null,"Activez PHP 8.0 en utilisant les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf module reset php\ndnf module install php:remi-8.0\n"))),(0,n.kt)(r.Z,{value:"CentOS 8",label:"CentOS 8",mdxType:"TabItem"},(0,n.kt)("h4",{id:"d\xe9p\xf4t-remi"},"D\xe9p\xf4t remi"),(0,n.kt)("p",null,"Afin d'installer les logiciels Centreon, le d\xe9p\xf4t ",(0,n.kt)("strong",{parentName:"p"},"remi")," doit \xeatre install\xe9."),(0,n.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y dnf-plugins-core\ndnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\ndnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm\ndnf config-manager --set-enabled 'powertools'\n")),(0,n.kt)("p",null,"Activez PHP 8.0 en utilisant les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf module reset php\ndnf module install php:remi-8.0\n"))),(0,n.kt)(r.Z,{value:"Oracle Linux 8",label:"Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("h4",{id:"d\xe9p\xf4t-remi-et-codeready-builder-1"},"D\xe9p\xf4t remi et CodeReady Builder"),(0,n.kt)("p",null,"Afin d'installer les logiciels Centreon, les d\xe9p\xf4ts ",(0,n.kt)("strong",{parentName:"p"},"remi")," et ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," doivent \xeatre install\xe9s."),(0,n.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y dnf-plugins-core\ndnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\ndnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm\ndnf config-manager --set-enabled ol8_codeready_builder\n")),(0,n.kt)("p",null,"Activez PHP 8.0 en utilisant les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf module reset php\ndnf module install php:remi-8.0\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("h4",{id:"d\xe9p\xf4t-software-collections-de-red-hat"},"D\xe9p\xf4t ",(0,n.kt)("em",{parentName:"h4"},"Software collections")," de Red Hat"),(0,n.kt)("p",null,"Afin d'installer les logiciels Centreon, le d\xe9p\xf4t ",(0,n.kt)("em",{parentName:"p"},"Software Collections")," de Red\nHat doit \xeatre activ\xe9. Celui-ci est n\xe9cessaire pour l'installation de apache 2.4."),(0,n.kt)("p",null,"Ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y centos-release-scl\n")),(0,n.kt)("h4",{id:"d\xe9p\xf4t-remi-1"},"D\xe9p\xf4t remi"),(0,n.kt)("p",null,"Afin d'installer les logiciels Centreon, le d\xe9p\xf4t ",(0,n.kt)("strong",{parentName:"p"},"remi")," doit \xeatre install\xe9."),(0,n.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y yum-utils\nyum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\nyum install -y https://rpms.remirepo.net/enterprise/remi-release-7.rpm\nyum-config-manager --enable remi-php80\n")))),(0,n.kt)("h4",{id:"d\xe9p\xf4t-centreon"},"D\xe9p\xf4t Centreon"),(0,n.kt)("p",null,"Afin d'installer les logiciels Centreon \xe0 partir des d\xe9p\xf4ts, vous devez au\npr\xe9alable installer le fichier li\xe9 au d\xe9p\xf4t."),(0,n.kt)("p",null,"Ex\xe9cutez la commande suivante :"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y https://yum.centreon.com/standard/21.10/el8/stable/noarch/RPMS/centreon-release-21.10-5.el8.noarch.rpm\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y https://yum.centreon.com/standard/21.10/el7/stable/noarch/RPMS/centreon-release-21.10-5.el7.centos.noarch.rpm\n")))),(0,n.kt)("h2",{id:"\xe9tape-2--installation"},"\xc9tape 2 : Installation"),(0,n.kt)("p",null,"Ce chapitre d\xe9crit l'installation d'un serveur central Centreon."),(0,n.kt)("p",null,"Il est possible d'installer ce serveur avec une base de donn\xe9es locale au\nserveur, ou d\xe9port\xe9e sur un serveur d\xe9di\xe9."),(0,n.kt)("h3",{id:"avec-base-de-donn\xe9es-locale"},"Avec base de donn\xe9es locale"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y centreon centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y centreon centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n")))),(0,n.kt)("p",null,"Vous pouvez maintenant passer \xe0 ",(0,n.kt)("a",{parentName:"p",href:"#%C3%A9tape-3--configuration"},"l'\xe9tape 3"),"."),(0,n.kt)("h3",{id:"avec-base-de-donn\xe9es-d\xe9port\xe9e"},"Avec base de donn\xe9es d\xe9port\xe9e"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Dans le cas d'une installation avec un serveur d\xe9di\xe9 \xe0 la base de donn\xe9es, ce\ndernier doit aussi avoir les d\xe9p\xf4ts pr\xe9requis.")),(0,n.kt)("p",null,"Ex\xe9cutez la commande suivante sur le serveur Centreon Central :"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y centreon-base-config-centreon-engine centreon-widget\\*\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y centreon-base-config-centreon-engine centreon-widget\\*\n")))),(0,n.kt)("p",null,"Puis ex\xe9cutez les commandes suivantes sur le serveur d\xe9di\xe9 \xe0 la base de donn\xe9es :"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n")))),(0,n.kt)("p",null,"S\xe9curisez votre installation MariaDB en ex\xe9cutant la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"mysql_secure_installation\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Vous devez obligatoirement d\xe9finir un mot de passe pour l'utilisateur root de la base de donn\xe9es.")),(0,n.kt)("p",null,"Cr\xe9ez enfin un utilisateur avec privil\xe8ges ",(0,n.kt)("strong",{parentName:"p"},"root")," n\xe9cessaire \xe0 l'installation de\nCentreon :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-SQL"},"CREATE USER '<USER>'@'<IP>' IDENTIFIED BY '<PASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<USER>'@'<IP>' WITH GRANT OPTION;\nFLUSH PRIVILEGES;\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,n.kt)("strong",{parentName:"p"},"<IP",">")," par l'adresse IP avec laquelle le serveur Centreon\nCentral se connectera au serveur de base de donn\xe9es."),(0,n.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,n.kt)("strong",{parentName:"p"},"<USER",">")," et ",(0,n.kt)("strong",{parentName:"p"},"<PASSWORD",">")," par les identifiants de\nl'utilisateur.")),(0,n.kt)("p",null,"Une fois l'installation termin\xe9e vous pouvez supprimer cet utilisateur via la\ncommande :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-SQL"},"DROP USER '<USER>'@'<IP>';\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Le paquet ",(0,n.kt)("strong",{parentName:"p"},"centreon-database")," installe une configuration MariaDB optimis\xe9e\npour l'utilisation avec Centreon."),(0,n.kt)("p",{parentName:"blockquote"},"Si ce paquet n'est pas install\xe9, il faut \xe0 minima adapter la limitation\n",(0,n.kt)("strong",{parentName:"p"},"LimitNOFILE")," \xe0 ",(0,n.kt)("strong",{parentName:"p"},"32000")," via une configuration d\xe9di\xe9e, exemple:"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"$ cat /etc/systemd/system/mariadb.service.d/centreon.conf\n[Service]\nLimitNOFILE=32000\n")),(0,n.kt)("p",{parentName:"blockquote"},"De m\xeame pour la directive MariaDB ",(0,n.kt)("strong",{parentName:"p"},"open_files_limit"),", exemple:"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"$ cat /etc/my.cnf.d/centreon.cnf\n[server]\ninnodb_file_per_table=1\nopen_files_limit=32000\n"))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"En sus des directives pr\xe9c\xe9dentes, il est fortement recommand\xe9 d'appliquer la\nconfiguration des bases de donn\xe9es avec les param\xe8tres suivants:"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"[server]\nkey_buffer_size = 256M\nsort_buffer_size = 32M\njoin_buffer_size = 4M\nthread_cache_size = 64\nread_buffer_size = 512K\nread_rnd_buffer_size = 256K\nmax_allowed_packet = 128M\n")),(0,n.kt)("p",{parentName:"blockquote"},"Il est \xe9galement possible d'am\xe9liorer les performances des tables utilisant\nle moteur de stockage InnoDB avec les directives ci-dessous. Les valeurs\nci-dessous sont applicables \xe0 une VM ayant au moins 8Go de RAM."),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"innodb_buffer_pool_size=1G\n")),(0,n.kt)("p",{parentName:"blockquote"},"Pensez \xe0 red\xe9marrer le service mariadb apr\xe8s chaque changement de\nconfiguration.")),(0,n.kt)("h2",{id:"\xe9tape-3--configuration"},"\xc9tape 3 : Configuration"),(0,n.kt)("h3",{id:"nom-du-serveur"},"Nom du serveur"),(0,n.kt)("p",null,"Si chous le souhaitez, vous pouvez changer le hostname du serveur \xe0 l'aide de la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"hostnamectl set-hostname new-server-name\n")),(0,n.kt)("p",null,"Remplacez ",(0,n.kt)("strong",{parentName:"p"},"new-server-name")," par le nom de votre choix. Exemple :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"hostnamectl set-hostname central\n")),(0,n.kt)("h3",{id:"fuseau-horaire-php"},"Fuseau horaire PHP"),(0,n.kt)("p",null,"La timezone par d\xe9faut de PHP doit \xeatre configur\xe9e. Ex\xe9cutez la commande suivante en ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},'echo "date.timezone = Europe/Paris" >> /etc/php.d/50-centreon.ini\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,n.kt)("strong",{parentName:"p"},"Europe/Paris")," par votre fuseau horaire. La liste des fuseaux\nhoraires est disponible ",(0,n.kt)("a",{parentName:"p",href:"http://php.net/manual/en/timezones.php"},"ici"),".")),(0,n.kt)("p",null,"Apr\xe8s avoir r\xe9alis\xe9 la modification, red\xe9marrez le service PHP-FPM :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart php-fpm\n")),(0,n.kt)("h3",{id:"lancement-des-services-au-d\xe9marrage"},"Lancement des services au d\xe9marrage"),(0,n.kt)("p",null,"Pour activer le lancement automatique des services au d\xe9marrage, ex\xe9cutez la\ncommande suivante sur le serveur Central :"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl enable php-fpm httpd mariadb centreon cbd centengine gorgoned snmptrapd centreontrapd snmpd\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl enable php-fpm httpd24-httpd mariadb centreon cbd centengine gorgoned snmptrapd centreontrapd snmpd\n")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Si la base de donn\xe9es est sur un serveur d\xe9di\xe9, pensez \xe0 activer le\nlancement du service ",(0,n.kt)("strong",{parentName:"p"},"mariadb")," sur ce dernier.")),(0,n.kt)("h3",{id:"s\xe9curiser-la-base-de-donn\xe9es"},"S\xe9curiser la base de donn\xe9es"),(0,n.kt)("p",null,"Depuis MariaDB 10.5, il est obligatoire de s\xe9curiser l'acc\xe8s root \xe0 la base avant d'installer Centreon. Ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"mysql_secure_installation\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'R\xe9pondez oui \xe0 toute question sauf \xe0 "Disallow root login remotely?". '),(0,n.kt)("li",{parentName:"ul"},"Vous devez obligatoirement d\xe9finir un mot de passe pour l'utilisateur ",(0,n.kt)("strong",{parentName:"li"},"root")," de la base de donn\xe9es.\nCe mot de passe vous sera demand\xe9 lors de l'",(0,n.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2591/fr/docs/21.10/installation/web-and-post-installation"},"installation web"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Pour plus d'informations, veuillez consulter la ",(0,n.kt)("a",{parentName:"p",href:"https://mariadb.com/kb/en/mysql_secure_installation/"},"documentation officielle MariaDB"),".")),(0,n.kt)("h2",{id:"\xe9tape-4--installation-web"},"\xc9tape 4 : Installation web"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"D\xe9marrez le serveur Apache avec la\ncommande suivante :")),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start httpd\n"))),(0,n.kt)(r.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start httpd24-httpd\n")))),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Terminez l'installation en r\xe9alisant les\n",(0,n.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2591/fr/docs/21.10/installation/web-and-post-installation#installation-web"},"\xe9tapes de l'installation web"),".")))}g.isMDXComponent=!0}}]);
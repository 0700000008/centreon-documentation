"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[62847],{345276:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>v,frontMatter:()=>p,metadata:()=>c,toc:()=>m});n(667294);var r=n(603905),l=n(451715),a=n(907626);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}const p={id:"using-packages",title:"A partir des paquets"},u=void 0,c={unversionedId:"installation/installation-of-a-poller/using-packages",id:"version-21.10/installation/installation-of-a-poller/using-packages",title:"A partir des paquets",description:"Centreon fournit des RPM pour ses produits au travers de la solution",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-21.10/installation/installation-of-a-poller/using-packages.md",sourceDirName:"installation/installation-of-a-poller",slug:"/installation/installation-of-a-poller/using-packages",permalink:"/centreon-documentation/pr-preview/pr-2575/fr/docs/21.10/installation/installation-of-a-poller/using-packages",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-21.10/installation/installation-of-a-poller/using-packages.md",tags:[],version:"21.10",lastUpdatedAt:1693509676,formattedLastUpdatedAt:"31 ao\xfbt 2023",frontMatter:{id:"using-packages",title:"A partir des paquets"},sidebar:"version-21.10/docs",previous:{title:"A partir de l'ISO Centreon",permalink:"/centreon-documentation/pr-preview/pr-2575/fr/docs/21.10/installation/installation-of-a-poller/using-centreon-iso"},next:{title:"A partir de l'ISO Centreon",permalink:"/centreon-documentation/pr-preview/pr-2575/fr/docs/21.10/installation/installation-of-a-remote-server/using-centreon-iso"}},d={},m=[{value:"\xc9tapes pr\xe9-installation",id:"\xe9tapes-pr\xe9-installation",level:2},{value:"D\xe9sactiver SELinux",id:"d\xe9sactiver-selinux",level:3},{value:"Configurer ou d\xe9sactiver le pare-feu",id:"configurer-ou-d\xe9sactiver-le-pare-feu",level:3},{value:"Nom du serveur",id:"nom-du-serveur",level:3},{value:"Installer les d\xe9p\xf4ts",id:"installer-les-d\xe9p\xf4ts",level:3},{value:"Redhat CodeReady Builder repository",id:"redhat-codeready-builder-repository",level:4},{value:"D\xe9p\xf4t PowerTools de Red Hat",id:"d\xe9p\xf4t-powertools-de-red-hat",level:4},{value:"D\xe9p\xf4t CodeReady Builder de Oracle",id:"d\xe9p\xf4t-codeready-builder-de-oracle",level:4},{value:"D\xe9p\xf4t Redhat Software Collections",id:"d\xe9p\xf4t-redhat-software-collections",level:4},{value:"D\xe9p\xf4t Centreon",id:"d\xe9p\xf4t-centreon",level:4},{value:"Installation",id:"installation",level:2},{value:"Enregistrer le serveur",id:"enregistrer-le-serveur",level:2},{value:"Principaux messages d&#39;erreur",id:"principaux-messages-derreur",level:3},{value:"Ajouter le Poller \xe0 la configuration",id:"ajouter-le-poller-\xe0-la-configuration",level:2},{value:"S\xe9curisez votre plateforme",id:"s\xe9curisez-votre-plateforme",level:2}],k={toc:m},g="wrapper";function v(e){var{components:t}=e,n=i(e,["components"]);return(0,r.kt)(g,s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},k,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Centreon fournit des RPM pour ses produits au travers de la solution\nCentreon Open Sources disponible gratuitement sur notre d\xe9p\xf4t."),(0,r.kt)("p",null,"Ces paquets ont \xe9t\xe9 test\xe9s avec succ\xe8s sur les environnements CentOS\nen version 7 et 8."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Cependant, suite au changement de strat\xe9gie effectu\xe9 par Red Hat, nous pensons\nqu'il est pr\xe9f\xe9rable de ne pas utiliser CentOS 8 en production. Ces paquets\npour CentOS 8 sont compatible avec RHEL et Oracle Linux en version 8.")),(0,r.kt)("h2",{id:"\xe9tapes-pr\xe9-installation"},"\xc9tapes pr\xe9-installation"),(0,r.kt)("h3",{id:"d\xe9sactiver-selinux"},"D\xe9sactiver SELinux"),(0,r.kt)("p",null,"SELinux doit \xeatre d\xe9sactiv\xe9. Pour se faire, vous devez \xe9diter le fichier\n",(0,r.kt)("strong",{parentName:"p"},"/etc/selinux/config")," et remplacer ",(0,r.kt)("strong",{parentName:"p"},"enforcing")," par ",(0,r.kt)("strong",{parentName:"p"},"disabled"),", ou en\nex\xe9cutant la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sed -i s/^SELINUX=.*$/SELINUX=disabled/ /etc/selinux/config\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Red\xe9marrez votre syst\xe8me d'exploitation pour prendre en compte le changement.")),(0,r.kt)("p",null,"Apr\xe8s le red\xe9marrage, une v\xe9rification rapide permet de confirmer le statut de\nSELinux :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ getenforce\nDisabled\n")),(0,r.kt)("h3",{id:"configurer-ou-d\xe9sactiver-le-pare-feu"},"Configurer ou d\xe9sactiver le pare-feu"),(0,r.kt)("p",null,"Param\xe9trer le pare-feu syst\xe8me ou d\xe9sactiver ce dernier. Pour d\xe9sactiver ce\ndernier ex\xe9cuter les commandes suivantes :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop firewalld\nsystemctl disable firewalld\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Vous pouvez trouver des instructions ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2575/fr/docs/21.10/administration/secure-platform#enable-firewalld"},"ici"),"\npour configurer le pare-feu.")),(0,r.kt)("h3",{id:"nom-du-serveur"},"Nom du serveur"),(0,r.kt)("p",null,"Si vous le souhaitez, vous pouvez changer le nom du serveur \xe0 l'aide de la commande suivante:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"hostnamectl set-hostname new-server-name\n")),(0,r.kt)("p",null,"Remplacez ",(0,r.kt)("strong",{parentName:"p"},"new-server-name")," par le nom de votre choix. Exemple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"hostnamectl set-hostname poller1\n")),(0,r.kt)("h3",{id:"installer-les-d\xe9p\xf4ts"},"Installer les d\xe9p\xf4ts"),(0,r.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(a.Z,{value:"RHEL 8",label:"RHEL 8",mdxType:"TabItem"},(0,r.kt)("h4",{id:"redhat-codeready-builder-repository"},"Redhat CodeReady Builder repository"),(0,r.kt)("p",null,"To install Centreon you will need to enable the official CodeReady Builder\nrepository supported by Redhat."),(0,r.kt)("p",null,"Enable the CodeReady Builder repository using these commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf -y install dnf-plugins-core https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\nsubscription-manager repos --enable codeready-builder-for-rhel-8-x86_64-rpms\n"))),(0,r.kt)(a.Z,{value:"CentOS 8",label:"CentOS 8",mdxType:"TabItem"},(0,r.kt)("h4",{id:"d\xe9p\xf4t-powertools-de-red-hat"},"D\xe9p\xf4t PowerTools de Red Hat"),(0,r.kt)("p",null,"Afin d'installer les logiciels Centreon, le d\xe9p\xf4t PowerTools de Red Hat doit \xeatre\nactiv\xe9."),(0,r.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Pour CentOS 8.2 :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf -y install dnf-plugins-core epel-release\ndnf config-manager --set-enabled PowerTools\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Pour CentOS 8.3 et Centos Stream :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf -y install dnf-plugins-core epel-release\ndnf config-manager --set-enabled powertools\n"))))),(0,r.kt)(a.Z,{value:"Oracle Linux 8",label:"Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("h4",{id:"d\xe9p\xf4t-codeready-builder-de-oracle"},"D\xe9p\xf4t CodeReady Builder de Oracle"),(0,r.kt)("p",null,"Afin d'installer les logiciels Centreon, le d\xe9p\xf4t CodeReady Builder de Oracle\ndoit \xeatre activ\xe9."),(0,r.kt)("p",null,"Ex\xe9cutez les commandes suivantes :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf -y install dnf-plugins-core oracle-epel-release-el8\ndnf config-manager --set-enabled ol8_codeready_builder\n"))),(0,r.kt)(a.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("h4",{id:"d\xe9p\xf4t-redhat-software-collections"},"D\xe9p\xf4t Redhat Software Collections"),(0,r.kt)("p",null,"Pour installer Centreon, vous devrez configurer le r\xe9f\xe9rentiel officiel des collections\nde logiciels pris en charge par Redhat."),(0,r.kt)("p",null,"Installez le r\xe9f\xe9rentiel de collections de logiciels \xe0 l'aide de cette commande :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y centos-release-scl\n")))),(0,r.kt)("h4",{id:"d\xe9p\xf4t-centreon"},"D\xe9p\xf4t Centreon"),(0,r.kt)("p",null,"Afin d\u2019installer les logiciels Centreon \xe0 partir des d\xe9p\xf4ts, vous devez au\npr\xe9alable installer le fichier li\xe9 au d\xe9p\xf4t."),(0,r.kt)("p",null,"Ex\xe9cutez la commande suivante \xe0 partir d\u2019un utilisateur poss\xe9dant les droits\nsuffisants :"),(0,r.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(a.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y https://yum.centreon.com/standard/21.10/el8/stable/noarch/RPMS/centreon-release-21.10-5.el8.noarch.rpm\n"))),(0,r.kt)(a.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y https://yum.centreon.com/standard/21.10/el7/stable/noarch/RPMS/centreon-release-21.10-5.el7.centos.noarch.rpm\n")))),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Pour installer le moteur de supervision, ex\xe9cutez la commande :"),(0,r.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(a.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install -y centreon-poller-centreon-engine\n"))),(0,r.kt)(a.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y centreon-poller-centreon-engine\n")))),(0,r.kt)("p",null,"Pour activer le d\xe9marrage automatique des services de supervision au d\xe9marrage\ndu serveur, ex\xe9cuter la commande suivant :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl enable centreon centengine centreontrapd snmptrapd\n")),(0,r.kt)("p",null,"Les services de supervision passive peuvent \xeatre d\xe9marr\xe9s :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start centreontrapd snmptrapd\n")),(0,r.kt)("p",null,"Red\xe9marrez Centreon Engine :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart centengine\n")),(0,r.kt)("h2",{id:"enregistrer-le-serveur"},"Enregistrer le serveur"),(0,r.kt)("p",null,"Pour transformer le serveur en collecteur et l'enregistrer sur le serveur central ou un serveur distant, ex\xe9cutez la commande suivante sur le futur collecteur :"),(0,r.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(a.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/share/centreon/bin/registerServerTopology.sh -u <API_ACCOUNT> \\\n-t poller -h <IP_TARGET_NODE> -n <POLLER_NAME>\n")),(0,r.kt)("p",null,"Exemple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/share/centreon/bin/registerServerTopology.sh -u admin -t poller -h 192.168.0.1 -n poller-1\n"))),(0,r.kt)(a.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/share/centreon/bin/registerServerTopology.sh -u <API_ACCOUNT> \\\n-t poller -h <IP_TARGET_NODE> -n <POLLER_NAME>\n")),(0,r.kt)("p",null,"Exemple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/share/centreon/bin/registerServerTopology.sh -u admin -t poller -h 192.168.0.1 -n poller-1\n")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,r.kt)("strong",{parentName:"p"},"<IP_TARGET_NODE>")," par l'adresse IP du serveur Central ou du serveur distant auquel vous voulez rattacher le collecteur (adresse IP vue par le\ncollecteur).")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Le compte ",(0,r.kt)("strong",{parentName:"p"},"<API_ACCOUNT>")," doit avoir acc\xe8s \xe0 l'API de configuration. Vous pouvez utiliser le compte ",(0,r.kt)("strong",{parentName:"p"},"admin"),".")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Vous pouvez changer le port et la m\xe9thode HTTP, le format de l'option ",(0,r.kt)("strong",{parentName:"p"},"-h")," est le suivant :\n",(0,r.kt)("inlineCode",{parentName:"p"},"HTTPS://<IP_TARGET_NODE>:PORT"))),(0,r.kt)("p",null,"Suivre ensuite les instructions"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Saisir le mot de passe :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"Please enter the password of 192.168.0.1:\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"S\xe9lectionner l'adresse IP si plusieurs interfaces r\xe9seau existent:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"Which IP do you want to use as CURRENT NODE IP ?\n1) 192.168.0.2\n2) 192.168.0.3\n1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Valider les informations:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"Summary of the informations that will be send:\n\nApi Connection:\nusername: admin\npassword: ******\ntarget server: 192.168.0.1\n\nPending Registration Server:\nname: poller-1\ntype: poller\naddress: 192.168.0.2\n\nDo you want to register this server with those information ? (y/n)y\n")))),(0,r.kt)("p",null,"Vous recevrez la validation du serveur Centreon central ou du serveur Remote Server :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"2020-10-16T17:19:37+02:00 [INFO]: The CURRENT NODE 'poller': 'poller-1@192.168.0.2' linked to TARGET NODE: '192.168.0.1' has been added\n")),(0,r.kt)("h3",{id:"principaux-messages-derreur"},"Principaux messages d'erreur"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"2020-10-20T10:23:15+02:00 [ERROR]: Invalid credentials\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Vos informations d'identification sont incorrectes pour le compte ",(0,r.kt)("strong",{parentName:"p"},"<API_ACCOUNT>"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"2020-10-20T10:24:59+02:00 [ERROR]: Access Denied.\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"L'utilisateur ",(0,r.kt)("strong",{parentName:"p"},"<API_ACCOUNT>")," n'a pas acc\xe8s \xe0 l'API de configuration.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"Failed connect to 192.168.0.1:444; Connection refused\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Impossible d'acc\xe9der \xe0 l'API. Contr\xf4ler les valeurs ",(0,r.kt)("strong",{parentName:"p"},"<IP_TARGET_NODE>"),", m\xe9thode et port.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"2020-10-20T10:39:30+02:00 [ERROR]: Can\u2019t connect to the API using: https://192.168.0.1:443/centreon/api/latest/login\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"L'URL d'acc\xe8s n'est pas compl\xe8te ou invalide. Utilisez l'option ",(0,r.kt)("strong",{parentName:"p"},"--root")," pour d\xe9finir le chemin de l'URL de l'API.\nPar exemple : ",(0,r.kt)("strong",{parentName:"p"},"--root monitoring"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"2020-10-20T10:42:23+02:00 [ERROR]: No route found for \u201cPOST /centreon/api/latest/platform/topology\u201d\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"La version Centreon du serveur distant est invalide. Elle doit \xeatre sup\xe9rieure ou \xe9gale \xe0 21.10.")),(0,r.kt)("h2",{id:"ajouter-le-poller-\xe0-la-configuration"},"Ajouter le Poller \xe0 la configuration"),(0,r.kt)("p",null,"Rendez-vous au chapitre ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2575/fr/docs/21.10/monitoring/monitoring-servers/add-a-poller-to-configuration"},"Ajouter un Poller \xe0 la configuration"),"."),(0,r.kt)("h2",{id:"s\xe9curisez-votre-plateforme"},"S\xe9curisez votre plateforme"),(0,r.kt)("p",null,"N'oubliez pas de s\xe9curiser votre plateforme Centreon en suivant nos\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2575/fr/docs/21.10/administration/secure-platform"},"recommandations")))}v.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[74983],{720548:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>p,metadata:()=>c,toc:()=>m});n(667294);var r=n(603905),a=n(451715),l=n(907626);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const p={id:"secure-platform",title:"S\xe9curisez votre plateforme"},u=void 0,c={unversionedId:"administration/secure-platform",id:"version-21.10/administration/secure-platform",title:"S\xe9curisez votre plateforme",description:"Ce chapitre vous propose de s\xe9curiser votre plateforme Centreon.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-21.10/administration/secure-platform.md",sourceDirName:"administration",slug:"/administration/secure-platform",permalink:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/administration/secure-platform",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-21.10/administration/secure-platform.md",tags:[],version:"21.10",lastUpdatedAt:1693925314,formattedLastUpdatedAt:"5 sept. 2023",frontMatter:{id:"secure-platform",title:"S\xe9curisez votre plateforme"},sidebar:"version-21.10/docs",previous:{title:"Qu'est-ce que Centreon CEIP?",permalink:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/ceip/what-is-centreon-ceip"},next:{title:"Secure your MAP platform",permalink:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/graph-views/secure-your-map-platform"}},d={},m=[{value:"Renforcez la s\xe9curit\xe9 des comptes utilisateurs",id:"renforcez-la-s\xe9curit\xe9-des-comptes-utilisateurs",level:2},{value:"Activer SELinux",id:"activer-selinux",level:2},{value:"Pr\xe9sentation de SELinux",id:"pr\xe9sentation-de-selinux",level:3},{value:"Activer SELinux en mode permissif",id:"activer-selinux-en-mode-permissif",level:3},{value:"Installer les paquets Centreon SELinux",id:"installer-les-paquets-centreon-selinux",level:3},{value:"Auditer les journaux et activer SELinux",id:"auditer-les-journaux-et-activer-selinux",level:3},{value:"S\xe9curisez les fichiers de configuration",id:"s\xe9curisez-les-fichiers-de-configuration",level:2},{value:"S\xe9curisez l&#39;installation du SGBD",id:"s\xe9curisez-linstallation-du-sgbd",level:2},{value:"Activation de firewalld",id:"activation-de-firewalld",level:2},{value:"Activez fail2ban",id:"activez-fail2ban",level:3},{value:"Passez le serveur web en HTTPS",id:"passez-le-serveur-web-en-https",level:2},{value:"S\xe9curisez le serveur web Apache avec un certificat auto-sign\xe9",id:"s\xe9curisez-le-serveur-web-apache-avec-un-certificat-auto-sign\xe9",level:3},{value:"URI personnalis\xe9e",id:"uri-personnalis\xe9e",level:2},{value:"Activation du http2",id:"activation-du-http2",level:2},{value:"Authentification des utilisateurs",id:"authentification-des-utilisateurs",level:2},{value:"Cr\xe9er des profils d&#39;utilisateurs",id:"cr\xe9er-des-profils-dutilisateurs",level:2},{value:"Communications s\xe9curis\xe9es entre les serveurs",id:"communications-s\xe9curis\xe9es-entre-les-serveurs",level:2},{value:"Communication Centreon Broker",id:"communication-centreon-broker",level:3},{value:"Centreon Broker et pare-feu",id:"centreon-broker-et-pare-feu",level:4},{value:"Authentification des flux Centreon Broker",id:"authentification-des-flux-centreon-broker",level:4},{value:"Compressez et chiffrez la communication Centreon Broker",id:"compressez-et-chiffrez-la-communication-centreon-broker",level:4},{value:"Communication Centreon Gorgone",id:"communication-centreon-gorgone",level:3},{value:"Gestion de l&#39;information et des \xe9v\xe9nements de s\xe9curit\xe9 (SIEM)",id:"gestion-de-linformation-et-des-\xe9v\xe9nements-de-s\xe9curit\xe9-siem",level:2}],k={toc:m},g="wrapper";function f(e){var{components:t}=e,p=s(e,["components"]);return(0,r.kt)(g,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},k,p),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Ce chapitre vous propose de s\xe9curiser votre plateforme Centreon."),(0,r.kt)("h2",{id:"renforcez-la-s\xe9curit\xe9-des-comptes-utilisateurs"},"Renforcez la s\xe9curit\xe9 des comptes utilisateurs"),(0,r.kt)("p",null,"Apr\xe8s l'installation de Centreon, il est n\xe9cessaire de changer les mots de passe par d\xe9faut des utilisateurs suivants:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"root"),(0,r.kt)("li",{parentName:"ul"},"centreon"),(0,r.kt)("li",{parentName:"ul"},"centreon-engine"),(0,r.kt)("li",{parentName:"ul"},"centreon-broker"),(0,r.kt)("li",{parentName:"ul"},"centreon-gorgone")),(0,r.kt)("p",null,"Pour cela, utilisez la commande suivante avec un compte privil\xe9gi\xe9 (par exemple sudo) ou avec root (non recommand\xe9 - vous devez\navoir un utilisateur d\xe9di\xe9) :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"passwd <account_name>\n")),(0,r.kt)("p",null,"De plus, il est important de v\xe9rifier que le compte Apache ne dispose pas de droits de connexion au terminal. Ex\xe9cutez\nla commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cat /etc/passwd | grep apache\n")),(0,r.kt)("p",null,"Vous devez avoir ",(0,r.kt)("strong",{parentName:"p"},"/sbin/nologin")," tel que :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Pour rappel, la liste des utilisateurs et des groupes se trouve ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/installation/prerequisites#utilisateurs-et-groupes"},"ici"))),(0,r.kt)("h2",{id:"activer-selinux"},"Activer SELinux"),(0,r.kt)("p",null,"Centreon a r\xe9cemment d\xe9velopp\xe9 des r\xe8gles SELinux afin de renforcer le contr\xf4le\ndes composants par le syst\xe8me d'exploitation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Ces r\xe8gles sont actuellement en ",(0,r.kt)("strong",{parentName:"p"},"mode b\xeata")," et peuvent \xeatre activ\xe9es. Vous\npouvez les activer en suivant cette proc\xe9dure. Lors de la d\xe9tection d'un\nprobl\xe8me, il est possible de d\xe9sactiver SELinux globalement et de nous envoyer\nvos commentaires afin d'am\xe9liorer nos r\xe8gles sur\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/centreon/centreon"},"Github"),".")),(0,r.kt)("h3",{id:"pr\xe9sentation-de-selinux"},"Pr\xe9sentation de SELinux"),(0,r.kt)("p",null,"Security Enhanced Linux (SELinux) fournit une couche suppl\xe9mentaire de s\xe9curit\xe9 du syst\xe8me. SELinux r\xe9pond\nfondamentalement \xe0 la question: ",(0,r.kt)("inlineCode",{parentName:"p"},"Le <suject> peut-il faire cette <action> sur <object> ?"),", Par exemple: un serveur Web\npeut-il acc\xe9der aux fichiers des r\xe9pertoires personnels des utilisateurs ?"),(0,r.kt)("p",null,"La strat\xe9gie d'acc\xe8s standard bas\xe9e sur l'utilisateur, le groupe et d'autres autorisations, connue sous le nom de\ncontr\xf4le d'acc\xe8s discr\xe9tionnaire (DAC), ne permet pas aux administrateurs syst\xe8me de cr\xe9er des strat\xe9gies de s\xe9curit\xe9\ncompl\xe8tes et pr\xe9cises, telles que la restriction d'applications sp\xe9cifiques \xe0 l'affichage uniquement des fichiers\njournaux, tout en permettant \xe0 d'autres applications d'ajouter de nouvelles donn\xe9es aux fichiers journaux."),(0,r.kt)("p",null,"SELinux impl\xe9mente le contr\xf4le d'acc\xe8s obligatoire (MAC). Chaque processus et ressource syst\xe8me poss\xe8de une \xe9tiquette\nde s\xe9curit\xe9 sp\xe9ciale appel\xe9e contexte SELinux. Un contexte SELinux, parfois appel\xe9 \xe9tiquette SELinux, est un identifiant\nqui fait abstraction des d\xe9tails au niveau du syst\xe8me et se concentre sur les propri\xe9t\xe9s de s\xe9curit\xe9 de l'entit\xe9. Non\nseulement cela fournit un moyen coh\xe9rent de r\xe9f\xe9rencer des objets dans la strat\xe9gie SELinux, mais cela supprime \xe9galement\ntoute ambigu\xeft\xe9 qui peut \xeatre trouv\xe9e dans d'autres m\xe9thodes d'identification. Par exemple, un fichier peut avoir plusieurs\nnoms de chemin valides sur un syst\xe8me qui utilise des montages de liaison."),(0,r.kt)("p",null,"La politique SELinux utilise ces contextes dans une s\xe9rie de r\xe8gles qui d\xe9finissent comment les processus peuvent\ninteragir entre eux et avec les diff\xe9rentes ressources syst\xe8me. Par d\xe9faut, la strat\xe9gie n'autorise aucune interaction\n\xe0 moins qu'une r\xe8gle n'accorde explicitement l'acc\xe8s."),(0,r.kt)("p",null,"Pour plus d'informations \xe0 propos de SELinux, visitez la ",(0,r.kt)("a",{parentName:"p",href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/using_selinux/getting-started-with-selinux_using-selinux"},"documentation Red Hat")),(0,r.kt)("h3",{id:"activer-selinux-en-mode-permissif"},"Activer SELinux en mode permissif"),(0,r.kt)("p",null,"Par d\xe9faut, SELinux est d\xe9sactiv\xe9 lors du processus d'installation de Centreon. Pour activer SELinux en mode permissif,\nvous devez modifier le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/selinux/config")," comme tel :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# This file controls the state of SELinux on the system.\n# SELINUX= can take one of these three values:\n#     enforcing - SELinux security policy is enforced.\n#     permissive - SELinux prints warnings instead of enforcing.\n#     disabled - No SELinux policy is loaded.\nSELINUX=permissive\n# SELINUXTYPE= can take one of three two values:\n#     targeted - Targeted processes are protected,\n#     minimum - Modification of targeted policy. Only selected processes are protected.\n#     mls - Multi Level Security protection.\nSELINUXTYPE=targeted\n")),(0,r.kt)("p",null,"Puis red\xe9marrez votre serveur :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"shutdown -r now\n")),(0,r.kt)("h3",{id:"installer-les-paquets-centreon-selinux"},"Installer les paquets Centreon SELinux"),(0,r.kt)("p",null,"Suivant le type de serveur, installer les paquets avec la commande suivante :"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Central / Remote Server",label:"Central / Remote Server",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install centreon-common-selinux \\\ncentreon-web-selinux \\\ncentreon-broker-selinux \\\ncentreon-engine-selinux \\\ncentreon-gorgoned-selinux \\\ncentreon-plugins-selinux\n"))),(0,r.kt)(l.Z,{value:"Poller",label:"Poller",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install centreon-common-selinux \\\ncentreon-broker-selinux \\\ncentreon-engine-selinux \\\ncentreon-gorgoned-selinux \\\ncentreon-plugins-selinux\n"))),(0,r.kt)(l.Z,{value:"Map server",label:"Map server",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install centreon-map-selinux\n"))),(0,r.kt)(l.Z,{value:"MBI server",label:"MBI server",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install centreon-mbi-selinux\n")))),(0,r.kt)("p",null,"Pour v\xe9rifier l'installation, ex\xe9cutez la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"semodule -l | grep centreon\n")),(0,r.kt)("p",null,"Suivant votre type de serveur, vous pouvez voir :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"centreon-broker 0.0.5\ncentreon-common 0.0.10\ncentreon-engine 0.0.8\ncentreon-gorgoned   0.0.3\ncentreon-plugins    0.0.2\ncentreon-web    0.0.8\n")),(0,r.kt)("h3",{id:"auditer-les-journaux-et-activer-selinux"},"Auditer les journaux et activer SELinux"),(0,r.kt)("p",null,"Avant d'activer SELinux en ",(0,r.kt)("strong",{parentName:"p"},"mode renforc\xe9"),", vous devez vous assurer qu'aucune erreur n'appara\xeet \xe0 l'aide de la\ncommande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cat /var/log/audit/audit.log | grep -i denied\n")),(0,r.kt)("p",null,"Si des erreurs apparaissent, vous devez les analyser et d\xe9cider si ces erreurs sont r\xe9guli\xe8res et doivent \xeatre ajout\xe9es\nen plus des r\xe8gles SELinux par d\xe9faut de Centreon. Pour ce faire, utilisez la commande suivante pour transformer\nl'erreur en r\xe8gles SELinux :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"audit2allow -a\n")),(0,r.kt)("p",null,"Ex\xe9cutez ensuite les r\xe8gles propos\xe9es."),(0,r.kt)("p",null,"Si apr\xe8s un certain temps, aucune erreur n'est pr\xe9sente, vous pouvez activer SELinux en mode renforc\xe9 en suivant cette\n",(0,r.kt)("a",{parentName:"p",href:"#activer-selinux-en-mode-permissif"},"proc\xe9dure")," avec le mode ",(0,r.kt)("strong",{parentName:"p"},"enforcing"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"N'h\xe9sitez pas \xe0 nous faire part de vos retours sur ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/centreon/centreon"},"Github"),".")),(0,r.kt)("h2",{id:"s\xe9curisez-les-fichiers-de-configuration"},"S\xe9curisez les fichiers de configuration"),(0,r.kt)("p",null,"Changez les permissions des fichiers de configuration suivants:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"chown centreon:centreon /etc/centreon/conf.pm\nchmod 660 /etc/centreon/conf.pm\n")),(0,r.kt)("p",null,"et"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"chown apache:apache /etc/centreon/centreon.conf.php\nchmod 660 /etc/centreon/centreon.conf.php\n")),(0,r.kt)("h2",{id:"s\xe9curisez-linstallation-du-sgbd"},"S\xe9curisez l'installation du SGBD"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://mariadb.com/kb/en/mysql_secure_installation/"},"MariaDB")," propose une proc\xe9dure par d\xe9faut pour s\xe9curiser\nl'installation du SGBD. Vous devez obligatoirement d\xe9finir un mot de passe pour l'utilisateur ",(0,r.kt)("strong",{parentName:"p"},"root")," de la base de donn\xe9es. Veuillez ex\xe9cuter la commande suivante et suivre les instructions :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mysql_secure_installation\n")),(0,r.kt)("h2",{id:"activation-de-firewalld"},"Activation de firewalld"),(0,r.kt)("p",null,"Installez firewalld:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install firewalld\n")),(0,r.kt)("p",null,"Activez firewalld:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl enable firewalld\nsystemctl start firewalld\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"La liste des flux r\xe9seau n\xe9cessaires pour chaque type de serveur est d\xe9finie\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/installation/architectures#tableau-des-flux-de-la-plate-forme"},"ici"),".")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Central / Remote Server",label:"Central / Remote Server",mdxType:"TabItem"},(0,r.kt)("p",null,"Exemple de r\xe8gles pour un Centreon Central ou Remote Server:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# For default protocols\nfirewall-cmd --zone=public --add-service=ssh --permanent\nfirewall-cmd --zone=public --add-service=http --permanent\nfirewall-cmd --zone=public --add-service=snmp --permanent\nfirewall-cmd --zone=public --add-service=snmptrap --permanent\n# Centreon Gorgone\nfirewall-cmd --zone=public --add-port=5556/tcp --permanent\n# Centreon Broker\nfirewall-cmd --zone=public --add-port=5669/tcp --permanent\n"))),(0,r.kt)(l.Z,{value:"Poller",label:"Poller",mdxType:"TabItem"},(0,r.kt)("p",null,"Exemple de r\xe8gles pour un collecteur Centreon:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# For default protocols\nfirewall-cmd --zone=public --add-service=ssh --permanent\nfirewall-cmd --zone=public --add-service=snmp --permanent\nfirewall-cmd --zone=public --add-service=snmptrap --permanent\n# Centreon Gorgone\nfirewall-cmd --zone=public --add-port=5556/tcp --permanent\n")))),(0,r.kt)("p",null,"Une fois les r\xe8gles ajout\xe9es, il est n\xe9cessaire de recharger firewalld:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"firewall-cmd --reload\n")),(0,r.kt)("h3",{id:"activez-fail2ban"},"Activez fail2ban"),(0,r.kt)("p",null,"Fail2ban est un framework de pr\xe9vention contre les intrusions, \xe9crit en Python."),(0,r.kt)("p",null,"Installez fail2ban :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install epel-release\nyum install fail2ban fail2ban-systemd python-inotify\n")),(0,r.kt)("p",null,"Si SELinux est install\xe9, mettez \xe0 jour les politiques SELinux :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum update -y selinux-policy*\n")),(0,r.kt)("p",null,"Activez firewalld :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl enable fail2ban\nsystemctl start fail2ban \n")),(0,r.kt)("p",null,"Copiez le fichier de r\xe8gles par d\xe9faut :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\n")),(0,r.kt)("p",null,"Editez le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/fail2ban/jail.local")," et recherchez le bloc ",(0,r.kt)("strong",{parentName:"p"},"[centreon]"),", puis modifiez tel que :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[centreon]\nport    = http,https\nlogpath = /var/log/centreon/login.log\nbackend  = pyinotify\n")),(0,r.kt)("p",null,"Pour activer la r\xe8gle ",(0,r.kt)("strong",{parentName:"p"},"centreon")," fail2ban, cr\xe9ez le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/fail2ban/jail.d/custom.conf")," et ajoutez les lignes\nsuivantes :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[centreon]\nenabled = true\nfindtime = 10m\nbantime = 10m\nmaxretry = 3\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"maxretry")," est le nombre d'authentifications \xe9chou\xe9es avant bannissement de l'adresse IP."),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"bantime")," est la dur\xe9e du bannissement."),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"findtime")," est la plage de temps pour trouver les authentifications en \xe9checs.")),(0,r.kt)("p",null,"Puis red\xe9marrez fail2ban pour charger votre r\xe8gle :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart fail2ban\n")),(0,r.kt)("p",null,"Pour v\xe9rifier l'\xe9tat de la r\xe8gle ",(0,r.kt)("strong",{parentName:"p"},"centreon"),", vous pouvez ex\xe9cuter :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"fail2ban-client status centreon\nStatus for the jail: centreon\n|- Filter\n|  |- Currently failed: 1\n|  |- Total failed: 17\n|  `- File list:    /var/log/centreon/login.log\n`- Actions\n   |- Currently banned: 0\n   |- Total banned: 2\n   `- Banned IP list:\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Pour plus d'informations, visitez le ",(0,r.kt)("a",{parentName:"p",href:"http://www.fail2ban.org"},"site officiel"),".")),(0,r.kt)("h2",{id:"passez-le-serveur-web-en-https"},"Passez le serveur web en HTTPS"),(0,r.kt)("p",null,"Par d\xe9faut, Centreon installe un serveur Web en mode HTTP. Il est fortement recommand\xe9 de passer en mode HTTPS en\najoutant votre certificat."),(0,r.kt)("p",null,"Il vaut mieux utiliser un certificat valid\xe9 par une autorit\xe9 plut\xf4t que d'utiliser un certificat auto-sign\xe9. Cependant, si un certificat auto-sign\xe9 vous convient mieux, r\xe9f\xe9rez-vous \xe0 la ",(0,r.kt)("a",{parentName:"p",href:"#s%C3%A9curisez-le-serveur-web-apache-avec-un-certificat-auto-sign%C3%A9"},"section correspondante"),"."),(0,r.kt)("p",null,"Si vous ne disposez pas d'un certificat valid\xe9 par une autorit\xe9, vous pouvez en g\xe9n\xe9rer un sur des plateformes telles\nque ",(0,r.kt)("a",{parentName:"p",href:"https://letsencrypt.org/"},"Let's Encrypt"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Une fois que votre serveur web est configur\xe9 en mode HTTPS et si vous avez un serveur Map sur votre plateforme,\nvous devez le configurer en mode HTTPS \xe9galement, sinon, les navigateurs web r\xe9cents peuvent bloquer\nla communication entre les deux serveurs. La proc\xe9dure est d\xe9taill\xe9e ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/graph-views/secure-your-map-platform#Configure-HTTPS/TLS-on-the-MAP-server"},"ici"),".")),(0,r.kt)("p",null,"Une fois votre certificat obtenu, effectuez la proc\xe9dure suivante pour activer le mode HTTPS sur votre serveur Apache :"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installez le module SSL pour Apache")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install mod_ssl mod_security openssl\n"))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install httpd24-mod_ssl httpd24-mod_security openssl\n")))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Installez vos certificats")),(0,r.kt)("p",null,"Copiez votre certificat et votre cl\xe9 sur le serveur en fonction de votre configuration; par d\xe9faut:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"/etc/pki/tls/certs/ca.crt"),(0,r.kt)("li",{parentName:"ul"},"/etc/pki/tls/private/ca.key")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Sauvegardez la configuration actuelle du serveur Apache pour Centreon")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cp /etc/httpd/conf.d/10-centreon.conf{,.origin}\n"))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cp /opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf{,.origin}\n")))),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"\xc9ditez la configuration Apache pour Centreon")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Centreon propose un fichier de configuration d'exemple HTTPS disponible dans le r\xe9pertoire:\n",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon/examples/centreon.apache.https.conf"))),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("p",null,"\xc9ditez  le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/httpd/conf.d/10-centreon.conf")," tel que :")),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("p",null,"\xc9ditez  le fichier ",(0,r.kt)("strong",{parentName:"p"},"/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf")," tel que :"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},'Alias /centreon/api /usr/share/centreon\nAlias /centreon /usr/share/centreon/www/\n\n<LocationMatch ^/centreon/(?!api/latest/|api/beta/|api/v[0-9]+/|api/v[0-9]+\\.[0-9]+/)(.*\\.php(/.*)?)$>\n    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/www/$1\n</LocationMatch>\n\n<LocationMatch ^/centreon/(authentication|api/(latest|beta|v[0-9]+|v[0-9]+\\.[0-9]+))/.*$>\n    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/api/index.php/$1\n</LocationMatch>\n\nProxyTimeout 300\n\n<VirtualHost *:80>\n    RewriteEngine On\n    RewriteCond %{HTTPS} off\n    RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n</VirtualHost>\n\n<VirtualHost *:443>\n#####################\n# SSL configuration #\n#####################\n    SSLEngine On\n    SSLProtocol All -SSLv3 -SSLv2 -TLSv1 -TLSv1.1\n    SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-DSS-AES256-GCM-SHA384:DHE-DSS-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-GCM-SHA256:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!DSS:!RC4:!SEED:!ADH:!IDEA\n    SSLHonorCipherOrder On\n    SSLCompression Off\n    SSLCertificateFile /etc/pki/tls/certs/ca.crt\n    SSLCertificateKeyFile /etc/pki/tls/private/ca.key\n\n    <IfModule mod_security2.c>\n        # https://github.com/SpiderLabs/ModSecurity/issues/652\n        SecRuleRemoveById 200003\n    </IfModule>\n\n    <Directory "/usr/share/centreon/www">\n        DirectoryIndex index.php\n        Options Indexes\n        AllowOverride all\n        Order allow,deny\n        Allow from all\n        Require all granted\n        <IfModule mod_php5.c>\n            php_admin_value engine Off\n        </IfModule>\n\n        FallbackResource /centreon/index.html\n\n        AddType text/plain hbs\n    </Directory>\n\n    <Directory "/usr/share/centreon/api">\n        Options Indexes\n        AllowOverride all\n        Order allow,deny\n        Allow from all\n        Require all granted\n        <IfModule mod_php5.c>\n            php_admin_value engine Off\n        </IfModule>\n\n        AddType text/plain hbs\n    </Directory>\n</VirtualHost>\n\nRedirectMatch ^/$ /centreon\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"N'oubliez pas de changer les directives ",(0,r.kt)("strong",{parentName:"p"},"SSLCertificateFile")," et ",(0,r.kt)("strong",{parentName:"p"},"SSLCertificateKeyFile")," avec les chemins d'acc\xe8s\nvers votre cl\xe9 et votre certificat.")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Activez les flags HttpOnly et Secure et cachez la signature du serveur")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/httpd/conf.d/10-centreon.conf")," et ajouter la ligne suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},'Header always edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure;SameSite=Strict\nHeader always set Strict-Transport-Security "max-age=31536000; includeSubDomains"\nServerSignature Off\nServerTokens Prod\n')),(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/php.d/50-centreon.ini*")," et d\xe9sactivez le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"expose_php")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-phpconf"},"expose_php = Off\n"))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf")," et ajouter la ligne suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},'Header set X-Frame-Options: "sameorigin"\nHeader always edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure;SameSite=Strict\nHeader always set Strict-Transport-Security "max-age=31536000; includeSubDomains"\nServerSignature Off\nServerTokens Prod\nTraceEnable Off\n')),(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/php.d/50-centreon.ini")," et d\xe9sactivez le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"expose_php")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-phpconf"},"expose_php = Off\n")))),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Cachez le r\xe9pertoire par d\xe9faut /icons")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/httpd/conf.d/autoindex.conf")," et commentez la ligne suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},'#Alias /icons/ "/usr/share/httpd/icons/"\n'))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/opt/rh/httpd24/root/etc/httpd/conf.d/autoindex.conf")," et commentez la ligne suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},'#Alias /icons/ "/opt/rh/httpd24/root/usr/share/httpd/icons/"\n')))),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"Red\xe9marrez le serveur web Apache et PHP pour prendre en compte la configuration")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart php-fpm httpd\n")),(0,r.kt)("p",null,"Puis v\xe9rifiez le statut :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl status httpd\n")),(0,r.kt)("p",null,"Si tout est correct, vous devriez avoir quelque chose comme :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'\u25cf httpd.service - The Apache HTTP Server\n   Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled; vendor preset: disabled)\n  Drop-In: /usr/lib/systemd/system/httpd.service.d\n           \u2514\u2500php-fpm.conf\n   Active: active (running) since Tue 2020-10-27 12:49:42 GMT; 2h 35min ago\n     Docs: man:httpd.service(8)\n Main PID: 1483 (httpd)\n   Status: "Total requests: 446; Idle/Busy workers 100/0;Requests/sec: 0.0479; Bytes served/sec: 443 B/sec"\n    Tasks: 278 (limit: 5032)\n   Memory: 39.6M\n   CGroup: /system.slice/httpd.service\n           \u251c\u25001483 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u25001484 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u25001485 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u25001486 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u25001487 /usr/sbin/httpd -DFOREGROUND\n           \u2514\u25001887 /usr/sbin/httpd -DFOREGROUND\n'))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart php-fpm httpd24-httpd\n")),(0,r.kt)("p",null,"Puis v\xe9rifiez le statut :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl status httpd24-httpd\n")),(0,r.kt)("p",null,"Si tout est correct, vous devriez avoir quelque chose comme :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'\u25cf httpd24-httpd.service - The Apache HTTP Server\n   Loaded: loaded (/usr/lib/systemd/system/httpd24-httpd.service; enabled; vendor preset: disabled)\n   Active: active (running) since mar. 2020-05-12 15:39:58 CEST; 25min ago\n  Process: 31762 ExecStop=/opt/rh/httpd24/root/usr/sbin/httpd-scl-wrapper $OPTIONS -k graceful-stop (code=exited, status=0/SUCCESS)\n Main PID: 31786 (httpd)\n   Status: "Total requests: 850; Idle/Busy workers 50/50;Requests/sec: 0.547; Bytes served/sec: 5.1KB/sec"\n   CGroup: /system.slice/httpd24-httpd.service\n           \u251c\u2500 1219 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031786 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031788 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031789 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031790 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031802 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031865 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031866 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031882 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u251c\u250031903 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n           \u2514\u250032050 /opt/rh/httpd24/root/usr/sbin/httpd -DFOREGROUND\n')))),(0,r.kt)("h3",{id:"s\xe9curisez-le-serveur-web-apache-avec-un-certificat-auto-sign\xe9"},"S\xe9curisez le serveur web Apache avec un certificat auto-sign\xe9"),(0,r.kt)("p",null,"Soit un serveur Centreon avec le FQDN suivant : ",(0,r.kt)("strong",{parentName:"p"},"centreon7.localdomain"),"."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Pr\xe9parez la configuration OpenSSL :"),(0,r.kt)("p",{parentName:"li"},"En raison d'un changement de politique chez Google, les certificats auto-sign\xe9s peuvent \xeatre rejet\xe9s par le navigateur Google Chrome (sans qu'il soit possible d'ajouter une exception). Pour continuer \xe0 utiliser ce navigateur, vous devez modifier la configuration openssl."),(0,r.kt)("p",{parentName:"li"},"Ouvrez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/pki/tls/openssl.cnf")," et trouvez la section ",(0,r.kt)("strong",{parentName:"p"},"[v3_ca]"),":"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"# Ajoutez le tag alt_names qui vous permet d'indiquer les diff\xe9rents IPs et FQDNs du serveur\n[ alt_names ]\nIP.1 = xxx.xxx.xxx.xxx\nDNS.1 = centreon7.localdomain\n# Si vous avez plusieurs IPs(HA: vip + ip)\n# IP.2 = xxx.xxx.xxx.xxx\n[ v3_ca ]\nsubjectAltName = @alt_names\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cr\xe9ez une cl\xe9 priv\xe9e pour le serveur :"),(0,r.kt)("p",{parentName:"li"},"Cr\xe9ez une cl\xe9 priv\xe9e nomm\xe9e ",(0,r.kt)("strong",{parentName:"p"},"centreon7.key")," sans mot de passe afin qu'elle puisse \xeatre utilis\xe9e par le service apache."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"openssl genrsa -out centreon7.key 2048\n")),(0,r.kt)("p",{parentName:"li"},"Prot\xe9gez le fichier en modifiant ses droits :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"chmod 400 centreon7.key\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cr\xe9ez un fichier CSR : "),(0,r.kt)("p",{parentName:"li"},"Avec la cl\xe9 que vous venez de cr\xe9er, cr\xe9ez un fichier CSR (Certificate Signing Request). Remplissez les champs avec les informations propres \xe0 votre entreprise.\nLe champ ",(0,r.kt)("strong",{parentName:"p"},"Common Name")," doit \xeatre identique au hostname de votre serveur Apache (dans notre cas, ",(0,r.kt)("strong",{parentName:"p"},"centreon7.localdomain"),")."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"openssl req -new -key centreon7.key -out centreon7.csr\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cr\xe9ez une cl\xe9 priv\xe9e pour le certificat de l'autorit\xe9 de certification :"),(0,r.kt)("p",{parentName:"li"},"En premier lieu, cr\xe9ez une cl\xe9 priv\xe9e pour cette autorit\xe9. Ajoutez l'option -aes256 pour chiffrer la cl\xe9 produite et y appliquer un mot de passe. Ce mot de passe sera demand\xe9 chaque fois que la cl\xe9 sera utilis\xe9e."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"openssl genrsa -aes256 2048 > ca_demo.key\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cr\xe9ez le certificat x509 \xe0 partir de la cl\xe9 priv\xe9e du certificat de l'autorit\xe9 de certification :"),(0,r.kt)("p",{parentName:"li"},"Ensuite, cr\xe9ez un certificat x509 qui sera valide pendant un an."),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},' Attention, il est n\xe9cessaire de simuler un tiers de confiance : le "Common Name" doit \xeatre diff\xe9rent de celui du certificat du serveur.')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"openssl req -new -x509 -days 365 -key ca_demo.key -out ca_demo.crt\n")),(0,r.kt)("p",{parentName:"li"},"Ce certificat \xe9tant cr\xe9\xe9, vous pourrez l'utiliser pour signer le certificat du serveur.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cr\xe9ez un certificat pour le serveur :"),(0,r.kt)("p",{parentName:"li"},"Utilisez le certificat x509 pour signer votre certificat pour le serveur :"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"openssl x509 -req -in centreon7.csr -out centreon7.crt -CA ca_demo.crt -CAkey ca_demo.key -CAcreateserial -CAserial ca_demo.srl  -extfile /etc/pki/tls/openssl.cnf -extensions v3_ca\n")),(0,r.kt)("p",{parentName:"li"},"L'option CAcreateserial n'est n\xe9cessaire que la premi\xe8re fois. Vous devez entrer le mot de passe pr\xe9c\xe9demment d\xe9fini. Vous obtenez un certificat pour le serveur nomm\xe9 ",(0,r.kt)("strong",{parentName:"p"},"centreon7.crt"),"."),(0,r.kt)("p",{parentName:"li"},"Vous pouvez voir le contenu du fichier : "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"less centreon7.crt\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Copiez les fichiers dans la configuration Apache :"),(0,r.kt)("p",{parentName:"li"},"Copiez la cl\xe9 priv\xe9e du serveur et le certificat du serveur que vous avez sign\xe9."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"cp centreon7.key /etc/pki/tls/private/centreon7.key\ncp centreon7.crt /etc/pki/tls/certs/\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Mettre \xe0 jour le fichier de configuration Apache :"),(0,r.kt)("p",{parentName:"li"},"Selon le nom des fichiers cr\xe9\xe9s, mettez \xe0 jour les param\xe8tres ",(0,r.kt)("strong",{parentName:"p"},"SSLCertificateFile")," et ",(0,r.kt)("strong",{parentName:"p"},"SSLCertificateKeyFile")," dans votre fichier de configuration Apache (",(0,r.kt)("strong",{parentName:"p"},"/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf"),")."),(0,r.kt)("p",{parentName:"li"},"Voici un exemple de ce \xe0 quoi le fichier peut ressembler:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},'Alias /centreon/api /usr/share/centreon\nAlias /centreon /usr/share/centreon/www/\n\n<LocationMatch ^/centreon/(?!api/latest/|api/beta/|api/v[0-9]+/|api/v[0-9]+\\.[0-9]+/)(.*\\.php(/.*)?)$>\n    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/www/$1\n</LocationMatch>\n\n<LocationMatch ^/centreon/(authentication|api/(latest|beta|v[0-9]+|v[0-9]+\\.[0-9]+))/.*$>\n    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/api/index.php/$1\n</LocationMatch>\n\nProxyTimeout 300\n\n<VirtualHost *:80>\n    RewriteEngine On\n    RewriteCond %{HTTPS} off\n    RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n</VirtualHost>\n\n<VirtualHost *:443>\n    #####################\n    # SSL configuration #\n    #####################\n    SSLEngine on\n    SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1\n    SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256\n    SSLCertificateFile /etc/pki/tls/certs/centreon7.crt\n    SSLCertificateKeyFile /etc/pki/tls/private/centreon7.key\n\n    <IfModule mod_security2.c>\n        # https://github.com/SpiderLabs/ModSecurity/issues/652\n        SecRuleRemoveById 200003\n    </IfModule>\n\n    <Directory "/usr/share/centreon/www">\n        DirectoryIndex index.php\n        Options Indexes\n        AllowOverride all\n        Order allow,deny\n        Allow from all\n        Require all granted\n        <IfModule mod_php5.c>\n            php_admin_value engine Off\n        </IfModule>\n\n        FallbackResource /centreon/index\n\n        AddType text/plain hbs\n    </Directory>\n\n    <Directory "/usr/share/centreon/api">\n        Options Indexes\n        AllowOverride all\n        Order allow,deny\n        Allow from all\n        Require all granted\n        <IfModule mod_php5.c>\n            php_admin_value engine Off\n        </IfModule>\n\n        AddType text/plain hbs\n    </Directory>\n</VirtualHost>\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Copiez le certificat x509 sur le navigateur client :"),(0,r.kt)("p",{parentName:"li"},"Maintenant, r\xe9cup\xe9rez le fichier du certificat x509 ",(0,r.kt)("strong",{parentName:"p"},"ca_demo.crt")," et importez-le dans le magasin de certificats de votre navigateur.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configuration API de Gorgone"))),(0,r.kt)("p",null,"\xc9ditez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/etc/centreon-gorgone/config.d/31-centreon-api.yaml")," en rempla\xe7ant ",(0,r.kt)("strong",{parentName:"p"},"127.0.0.1"),"\npar le FQDN de votre serveur central :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'gorgone:\n  tpapi:\n    - name: centreonv2\n      base_url: "http://centreon7.localdomain/centreon/api/latest/"\n      username: "centreon-gorgone"\n      password: "bpltc4aY"\n    - name: clapi\n      username: "centreon-gorgone"\n      password: "bpltc4aY"\n')),(0,r.kt)("p",null,"Red\xe9marrez le daemon Gorgone :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart gorgoned\n")),(0,r.kt)("p",null,"Puis v\xe9rifiez le statut :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl status gorgoned\n")),(0,r.kt)("p",null,"Si tout est correct, vous devriez avoir quelque chose comme :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\u25cf gorgoned.service - Centreon Gorgone\n   Loaded: loaded (/etc/systemd/system/gorgoned.service; enabled; vendor preset: disabled)\n   Active: active (running) since Mon 2023-03-06 15:58:10 CET; 27min ago\n Main PID: 1791096 (perl)\n    Tasks: 124 (limit: 23040)\n   Memory: 595.3M\n   CGroup: /system.slice/gorgoned.service\n           \u251c\u25001791096 /usr/bin/perl /usr/bin/gorgoned --config=/etc/centreon-gorgone/config.yaml --logfile=/var/log/centreon-gorgone/gorgoned.log --severity=info\n           \u251c\u25001791109 gorgone-statistics\n           \u251c\u25001791112 gorgone-legacycmd\n           \u251c\u25001791117 gorgone-engine\n           \u251c\u25001791118 gorgone-audit\n           \u251c\u25001791125 gorgone-nodes\n           \u251c\u25001791138 gorgone-action\n           \u251c\u25001791151 gorgone-cron\n           \u251c\u25001791158 gorgone-dbcleaner\n           \u251c\u25001791159 gorgone-autodiscovery\n           \u251c\u25001791166 gorgone-httpserver\n           \u251c\u25001791180 gorgone-proxy\n           \u251c\u25001791181 gorgone-proxy\n           \u251c\u25001791182 gorgone-proxy\n           \u251c\u25001791189 gorgone-proxy\n           \u2514\u25001791190 gorgone-proxy\n\nmars 06 15:58:10 ito-central systemd[1]: gorgoned.service: Succeeded.\nmars 06 15:58:10 ito-central systemd[1]: Stopped Centreon Gorgone.\nmars 06 15:58:10 ito-central systemd[1]: Started Centreon Gorgone.\n")),(0,r.kt)("p",null,"Vous devriez voir la ligne suivante dans les logs de Gorgone ",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-gorgone/gorgoned.log")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"2023-03-06 15:58:12 - INFO - [autodiscovery] -class- host discovery - sync started\n")),(0,r.kt)("h2",{id:"uri-personnalis\xe9e"},"URI personnalis\xe9e"),(0,r.kt)("p",null,"Il est possible de modifier l'URI de Centreon. Par exemple, ",(0,r.kt)("strong",{parentName:"p"},"/centreon")," peut \xeatre remplac\xe9 par ",(0,r.kt)("strong",{parentName:"p"},"/monitoring"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Au moins un niveau de chemin est obligatoire.")),(0,r.kt)("p",null,"Pour mettre \xe0 jour l'URI Centreon, vous devez suivre les \xe9tapes suivantes:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Rendez-vous dans le menu ",(0,r.kt)("inlineCode",{parentName:"li"},"Administration > Param\xe8tres > Centreon web")," et modifiez le champ ",(0,r.kt)("strong",{parentName:"li"},"Centreon Web Directory"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(193375).Z,width:"698",height:"173"})),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\xc9ditez le fichier de configuration Apache pour Centreon")),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"vim /etc/httpd/conf.d/10-centreon.conf\n"))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"vim /opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf\n")))),(0,r.kt)("p",null,"et modifiez le chemin ",(0,r.kt)("strong",{parentName:"p"},"/centreon")," par le nouveau."),(0,r.kt)("h2",{id:"activation-du-http2"},"Activation du http2"),(0,r.kt)("p",null,"Il est possible d'activer le protocole http2 pour am\xe9liorer les performances r\xe9seaux de Centreon."),(0,r.kt)("p",null,"Pour utiliser http2, vous devez suivre les \xe9tapes suivantes:"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"RHEL / CentOS / Oracle Linux 8",label:"RHEL / CentOS / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"#passez-le-serveur-web-en-https"},"Configurer le https pour Centreon"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Installez le module nghttp2:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install nghttp2\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Enable http2 protocol in ",(0,r.kt)("strong",{parentName:"li"},"/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},"...\n<VirtualHost *:443>\n    Protocols h2 h2c http/1.1\n    ...\n</VirtualHost>\n...\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Modifiez la m\xe9thode utilis\xe9e par apache pour le module multi-processus dans ",(0,r.kt)("strong",{parentName:"li"},"/etc/httpd/conf.modules.d/00-mpm.conf")," :")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},"-LoadModule mpm_prefork_module modules/mod_mpm_prefork.so\n+#LoadModule mpm_prefork_module modules/mod_mpm_prefork.so\n\n-#LoadModule mpm_event_module modules/mod_mpm_event.so\n+LoadModule mpm_event_module modules/mod_mpm_event.so\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Red\xe9marrez le processus Apache pour prendre en compte la nouvelle configuration:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart httpd\n"))),(0,r.kt)(l.Z,{value:"CentOS 7",label:"CentOS 7",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"#passez-le-serveur-web-en-https"},"Configurer le https pour Centreon"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Installez le module nghttp2:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install httpd24-nghttp2\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Enable http2 protocol in ",(0,r.kt)("strong",{parentName:"li"},"/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-apacheconf"},"...\n<VirtualHost *:443>\n    Protocols h2 h2c http/1.1\n    ...\n</VirtualHost>\n...\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Modifiez la m\xe9thode utilis\xe9e par apache pour le module multi-processus dans ",(0,r.kt)("strong",{parentName:"li"},"/opt/rh/httpd24/root/etc/httpd/conf.modules.d/00-mpm.conf"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},"-LoadModule mpm_prefork_module modules/mod_mpm_prefork.so\n+#LoadModule mpm_prefork_module modules/mod_mpm_prefork.so\n\n-#LoadModule mpm_event_module modules/mod_mpm_event.so\n+LoadModule mpm_event_module modules/mod_mpm_event.so\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Red\xe9marrez le processus Apache pour prendre en compte la nouvelle configuration:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart httpd24-httpd\n")))),(0,r.kt)("h2",{id:"authentification-des-utilisateurs"},"Authentification des utilisateurs"),(0,r.kt)("p",null,"Centreon propose plusieurs m\xe9thodes pour authentifier les utilisateurs :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/connect/loginpwd"},"localement")," (MySQL)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/administration/parameters/ldap"},"LDAP")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/connect/sso"},"Generic SSO")," ou ",(0,r.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/connect/openid"},"OpenId Connect"))),(0,r.kt)("h2",{id:"cr\xe9er-des-profils-dutilisateurs"},"Cr\xe9er des profils d'utilisateurs"),(0,r.kt)("p",null,"Centreon propose de g\xe9rer les autorisations d'acc\xe8s aux diff\xe9rents menus, ressources et actions possibles sur ces ressources\nvia la gestion de ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/administration/access-control-lists"},"liste de contr\xf4le d'acc\xe8s"),"."),(0,r.kt)("h2",{id:"communications-s\xe9curis\xe9es-entre-les-serveurs"},"Communications s\xe9curis\xe9es entre les serveurs"),(0,r.kt)("p",null,"Il est fortement recommand\xe9 de s\xe9curiser les communications entre les diff\xe9rents serveurs de la plateforme Centreon si\ncertains serveurs ne sont pas dans un r\xe9seau s\xe9curis\xe9."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Le tableau des flux r\xe9seau est disponible ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/installation/architectures#tableau-des-flux-r%C3%A9seau"},"ici"),".")),(0,r.kt)("h3",{id:"communication-centreon-broker"},"Communication Centreon Broker"),(0,r.kt)("h4",{id:"centreon-broker-et-pare-feu"},"Centreon Broker et pare-feu"),(0,r.kt)("p",null,"Parfois, il n'est pas possible d'initialiser le flux Centreon Broker depuis le collecteur (ou Remote Server)\nvers le serveur Centreon Central ou le Remote Server.\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/monitoring/monitoring-servers/advanced-configuration#centreon-broker-and-the-firewall"},"Voir la configuration suivante pour inverser le flux"),"."),(0,r.kt)("h4",{id:"authentification-des-flux-centreon-broker"},"Authentification des flux Centreon Broker"),(0,r.kt)("p",null,"Si vous devez authentifier des collecteurs qui envoient des donn\xe9es, vous pouvez utiliser le m\xe9canisme d'authentification\nCentreon Broker, qui est bas\xe9 sur des certificats X.509.\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/monitoring/monitoring-servers/advanced-configuration#authentification-avec-centreon-broker"},"Voir la configuration suivante pour authentifier les collecteurs"),"."),(0,r.kt)("h4",{id:"compressez-et-chiffrez-la-communication-centreon-broker"},"Compressez et chiffrez la communication Centreon Broker"),(0,r.kt)("p",null,"Il est \xe9galement possible de compresser et de chiffrer la communication de Centreon Broker. Allez dans le menu\n",(0,r.kt)("inlineCode",{parentName:"p"},"Configuration > Pollers > Broker configuration"),", modifiez votre configuration Centreon Broker et activez les entr\xe9es\net sorties ",(0,r.kt)("strong",{parentName:"p"},"IPv4"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Enable TLS encryption: Auto"),(0,r.kt)("li",{parentName:"ul"},"Enable negotiation: Yes"),(0,r.kt)("li",{parentName:"ul"},"Compression (zlib): Auto")),(0,r.kt)("h3",{id:"communication-centreon-gorgone"},"Communication Centreon Gorgone"),(0,r.kt)("p",null,"La ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/centreon/centreon-gorgone/blob/master/docs/configuration.md#gorgonecore"},"documentation officielle de Centreon gorgone")," vous permettra de s\xe9curiser la communication entre les processus Gorgone."),(0,r.kt)("h2",{id:"gestion-de-linformation-et-des-\xe9v\xe9nements-de-s\xe9curit\xe9-siem"},"Gestion de l'information et des \xe9v\xe9nements de s\xe9curit\xe9 (SIEM)"),(0,r.kt)("p",null,"Les journaux des \xe9v\xe9nements Centreon sont disponibles dans les r\xe9pertoires suivants :"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"R\xe9pertoires des journaux"),(0,r.kt)("th",{parentName:"tr",align:null},"Central server"),(0,r.kt)("th",{parentName:"tr",align:null},"Remote Server"),(0,r.kt)("th",{parentName:"tr",align:null},"Poller"),(0,r.kt)("th",{parentName:"tr",align:null},"Centreon Map server"),(0,r.kt)("th",{parentName:"tr",align:null},"Centreon MBI Server"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/var/log/centreon"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/var/log/centreon-broker"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/var/log/centreon-engine"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/var/log/centreon-gorgone"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/var/log/centreon-bi"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/var/log/centreon-map"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"De plus, toutes les actions de modification de la configuration de Centreon effectu\xe9es par les utilisateurs sont\ndisponibles via le menu ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/administration/logging-configuration-changes"},(0,r.kt)("inlineCode",{parentName:"a"},"Administration > Logs")),".")),(0,r.kt)("h1",{id:"sauvegardez-votre-plateforme"},"Sauvegardez votre plateforme"),(0,r.kt)("p",null,"Centreon propose de sauvegarder la configuration de la plateforme. Pour ce faire, acc\xe9dez au menu\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2567/fr/docs/21.10/administration/backup"},(0,r.kt)("inlineCode",{parentName:"a"},"Administration  >  Parameters  >  Backup")),"."))}f.isMDXComponent=!0},193375:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/custom-uri-ab5f29f9c8019a2b59bf5dd2c063fef2.png"}}]);
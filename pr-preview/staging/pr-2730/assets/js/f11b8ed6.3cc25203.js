"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[2943],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>d});var r=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var c=r.createContext({}),s=function(t){var e=r.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},u=function(t){var e=s(t.components);return r.createElement(c.Provider,{value:e},t.children)},p="mdxType",f={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,c=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),p=s(n),m=a,d=p["".concat(c,".").concat(m)]||p[m]||f[m]||o;return n?r.createElement(d,i(i({ref:e},u),{},{components:n})):r.createElement(d,i({ref:e},u))}));function d(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var c in e)hasOwnProperty.call(e,c)&&(l[c]=e[c]);l.originalType=t,l[p]="string"==typeof t?t:a,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6923:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>u,contentTitle:()=>c,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>p});n(67294);var r=n(3905);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function i(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}const l={id:"notif-configuration",title:"Configuring notifications"},c=void 0,s={unversionedId:"alerts-notifications/notif-configuration",id:"alerts-notifications/notif-configuration",title:"Configuring notifications",description:"By default, no notifications are sent by Centreon Cloud. To activate notification emails for specific resources, you need to create notification rules.",source:"@site/cloud/alerts-notifications/notif-configuration.md",sourceDirName:"alerts-notifications",slug:"/alerts-notifications/notif-configuration",permalink:"/centreon-documentation/pr-preview/staging/pr-2730/cloud/alerts-notifications/notif-configuration",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/cloud/alerts-notifications/notif-configuration.md",tags:[],version:"current",frontMatter:{id:"notif-configuration",title:"Configuring notifications"},sidebar:"cloud",previous:{title:"Submitting a status",permalink:"/centreon-documentation/pr-preview/staging/pr-2730/cloud/alerts-notifications/submit"},next:{title:"Chart management",permalink:"/centreon-documentation/pr-preview/staging/pr-2730/cloud/metrology/chart-management"}},u={},p=[{value:"In which cases can notifications be sent?",id:"in-which-cases-can-notifications-be-sent",level:2},{value:"How are resources checked?",id:"how-are-resources-checked",level:2},{value:"Creating a notification rule",id:"creating-a-notification-rule",level:2}],f={toc:p},m="wrapper";function d(t){var{components:e}=t,n=i(t,["components"]);return(0,r.kt)(m,o(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){a(t,e,n[e])}))}return t}({},f,n),{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"By default, no notifications are sent by Centreon Cloud. To activate notification emails for specific resources, you need to create notification rules."),(0,r.kt)("p",null,"Notifications are sent from the central server, according to the central server's time zone."),(0,r.kt)("h2",{id:"in-which-cases-can-notifications-be-sent"},"In which cases can notifications be sent?"),(0,r.kt)("p",null,"For each notification rule, you define in which cases the notifications will be sent:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"when a resource enters a non-ok status (",(0,r.kt)("strong",{parentName:"li"},"Warning"),", ",(0,r.kt)("strong",{parentName:"li"},"Critical")," or ",(0,r.kt)("strong",{parentName:"li"},"Unknown")," for a service, ",(0,r.kt)("strong",{parentName:"li"},"Down")," or ",(0,r.kt)("strong",{parentName:"li"},"Unreachable")," for a host)"),(0,r.kt)("li",{parentName:"ul"},"when a resource goes back to an OK status (",(0,r.kt)("strong",{parentName:"li"},"Recovery")," notification).")),(0,r.kt)("h2",{id:"how-are-resources-checked"},"How are resources checked?"),(0,r.kt)("p",null,"Resources are checked according to the following parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Checks are made 24x7, every 5 minutes for as long as the host or service is in an OK state."),(0,r.kt)("li",{parentName:"ul"},"When a host or service enters a non-ok status (SOFT status type, e.g. Down SOFT for a host), Centreon checks 3 times that the host or service is still in a non-ok state (1 minute elapses between each of these checks)."),(0,r.kt)("li",{parentName:"ul"},"If, after these 3 checks, the resource is still in a non-ok status, its status type becomes HARD. If notifications are activated for this status, a notification email is sent."),(0,r.kt)("li",{parentName:"ul"},"When the resource goes back to an OK state, an email notification is sent if you have activated notifications in case of ",(0,r.kt)("strong",{parentName:"li"},"Recovery"),"."),(0,r.kt)("li",{parentName:"ul"},"Contacts receive one notification email when the status of the resource changes (according to the statuses you have defined) - and one only. Example: if you have only selected ",(0,r.kt)("strong",{parentName:"li"},"Critical"),", no email will be sent when the service enters a ",(0,r.kt)("strong",{parentName:"li"},"Warning")," status. One email will be sent when the service becomes ",(0,r.kt)("strong",{parentName:"li"},"Critical"),", but no more."),(0,r.kt)("li",{parentName:"ul"},"If a service already had a critical status before you created a rule that activates notifications for the critical status, then no email notification will be sent.")),(0,r.kt)("h2",{id:"creating-a-notification-rule"},"Creating a notification rule"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Go to ",(0,r.kt)("strong",{parentName:"p"},"Configuration > Notifications > Notifications"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click the ",(0,r.kt)("strong",{parentName:"p"},"Add")," button above the list, on the left. The details panel for the new notification opens.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configure the notification rule:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Enter a name for the rule in the ",(0,r.kt)("strong",{parentName:"p"},"Name")," field at the top of the panel.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Select the host groups and/or service groups you want to send notifications for. For each type of resource, select the events that will trigger a notification.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Select the users (contacts and/or contact groups) you want to be notified in case of an event.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Define an email template. A default template is provided. You can modify it and use macros (variables). To insert a macro in your template, use the ",(0,r.kt)("strong",{parentName:"p"},"Macros")," button at the bottom right of the preview box."),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Macro"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{NOTIFICATIONTYPE}}"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Recovery"),", ",(0,r.kt)("strong",{parentName:"td"},"Warning"),", ",(0,r.kt)("strong",{parentName:"td"},"Critical")," or ",(0,r.kt)("strong",{parentName:"td"},"Unknown")," for a service; ",(0,r.kt)("strong",{parentName:"td"},"Recovery"),", ",(0,r.kt)("strong",{parentName:"td"},"Down")," or ",(0,r.kt)("strong",{parentName:"td"},"Unreachable")," for a host."),(0,r.kt)("td",{parentName:"tr",align:null},"CRITICAL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{NAME}}"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the service or host"),(0,r.kt)("td",{parentName:"tr",align:null},"proc-ntpd")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{ID}}"),(0,r.kt)("td",{parentName:"tr",align:null},"An internal ID for the resource. This can be used for API calls."),(0,r.kt)("td",{parentName:"tr",align:null},"41:209")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{STATE}}"),(0,r.kt)("td",{parentName:"tr",align:null},"The ",(0,r.kt)("a",{parentName:"td",href:"/centreon-documentation/pr-preview/staging/pr-2730/cloud/alerts-notifications/concepts"},"status")," that the resource has just entered."),(0,r.kt)("td",{parentName:"tr",align:null},"CRITICAL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{SHORTDATETIME}}"),(0,r.kt)("td",{parentName:"tr",align:null},"Date and time in the following format: MM/DD/YY h:mm:ss"),(0,r.kt)("td",{parentName:"tr",align:null},"10/16/23 10:02:06")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{LONGDATETIME}}"),(0,r.kt)("td",{parentName:"tr",align:null},"Date and time, including the day of the week."),(0,r.kt)("td",{parentName:"tr",align:null},"Mon Oct 16 10:02:06 2023")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"{{OUTPUT}}"),(0,r.kt)("td",{parentName:"tr",align:null},"The output of the check command, i.e. the text that is displayed in the ",(0,r.kt)("strong",{parentName:"td"},"Information")," column in the ",(0,r.kt)("strong",{parentName:"td"},"Resources status")," page."),(0,r.kt)("td",{parentName:"tr",align:null},"CRITICAL: Number of current processes running: 0"))))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click the ",(0,r.kt)("strong",{parentName:"p"},"Save")," button at the top right of the panel. The new notification rule appears in the list. You may have to wait up to 5 minutes before the rule starts being applied."))))}d.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[2937],{603905:(e,n,r)=>{r.d(n,{Zo:()=>s,kt:()=>d});var t=r(667294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function c(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=t.createContext({}),u=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},s=function(e){var n=u(e.components);return t.createElement(l.Provider,{value:n},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(r),m=o,d=p["".concat(l,".").concat(m)]||p[m]||g[m]||a;return r?t.createElement(d,i(i({ref:n},s),{},{components:r})):t.createElement(d,i({ref:n},s))}));function d(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c[p]="string"==typeof e?e:o,i[1]=c;for(var u=2;u<a;u++)i[u]=r[u];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"},253864:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>c,metadata:()=>u,toc:()=>p});r(667294);var t=r(603905);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})),e}function i(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const c={id:"move-poller",title:"Rattacher un collecteur \xe0 un serveur distant diff\xe9rent"},l=void 0,u={unversionedId:"monitoring/monitoring-servers/move-poller",id:"version-22.04/monitoring/monitoring-servers/move-poller",title:"Rattacher un collecteur \xe0 un serveur distant diff\xe9rent",description:"Voici la proc\xe9dure pour attacher un collecteur du serveur Centreon Central \xe0 un serveur distant, ou \xe0 partir d'un",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-22.04/monitoring/monitoring-servers/move-poller.md",sourceDirName:"monitoring/monitoring-servers",slug:"/monitoring/monitoring-servers/move-poller",permalink:"/centreon-documentation/pr-preview/pr-2646/fr/docs/22.04/monitoring/monitoring-servers/move-poller",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-22.04/monitoring/monitoring-servers/move-poller.md",tags:[],version:"22.04",lastUpdatedAt:1695816394,formattedLastUpdatedAt:"27 sept. 2023",frontMatter:{id:"move-poller",title:"Rattacher un collecteur \xe0 un serveur distant diff\xe9rent"},sidebar:"version-22.04/docs",previous:{title:"Communications",permalink:"/centreon-documentation/pr-preview/pr-2646/fr/docs/22.04/monitoring/monitoring-servers/communications"},next:{title:"Configuration avanc\xe9e",permalink:"/centreon-documentation/pr-preview/pr-2646/fr/docs/22.04/monitoring/monitoring-servers/advanced-configuration"}},s={},p=[{value:"Mise \xe0 jour de la configuration Centreon Poller",id:"mise-\xe0-jour-de-la-configuration-centreon-poller",level:2},{value:"Mise \xe0 jour de la configuration Centreon Gorgone",id:"mise-\xe0-jour-de-la-configuration-centreon-gorgone",level:2},{value:"Mise \xe0 jour de la configuration Centreon Broker",id:"mise-\xe0-jour-de-la-configuration-centreon-broker",level:2},{value:"Deploy the new configuration",id:"deploy-the-new-configuration",level:2}],g={toc:p},m="wrapper";function d(e){var{components:n}=e,c=i(e,["components"]);return(0,t.kt)(m,a(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){o(e,n,r[n])}))}return e}({},g,c),{components:n,mdxType:"MDXLayout"}),(0,t.kt)("p",null,"Voici la proc\xe9dure pour attacher un collecteur du serveur Centreon Central \xe0 un serveur distant, ou \xe0 partir d'un\nserveur distant \xe0 un autre."),(0,t.kt)("h2",{id:"mise-\xe0-jour-de-la-configuration-centreon-poller"},"Mise \xe0 jour de la configuration Centreon Poller"),(0,t.kt)("p",null,"Rendez-vous dans le menu ",(0,t.kt)("strong",{parentName:"p"},"Configuration > Pollers > Pollers")," et \xe9diter votre collecteur."),(0,t.kt)("p",null,"Dans le champ ",(0,t.kt)("strong",{parentName:"p"},"Attach to Master Remote Server")," s\xe9lectionn\xe9 le nouveau serveur :"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"image",src:r(619798).Z,width:"1766",height:"608"})),(0,t.kt)("p",null,"Cliquez sur ",(0,t.kt)("strong",{parentName:"p"},"Save"),"."),(0,t.kt)("h2",{id:"mise-\xe0-jour-de-la-configuration-centreon-gorgone"},"Mise \xe0 jour de la configuration Centreon Gorgone"),(0,t.kt)("p",null,"Depuis la liste des Pollers, cliquer sur l'icon d'action ",(0,t.kt)("strong",{parentName:"p"},"Gorgone\nconfiguration")," sur la ligne correspondant \xe0 votre Remote Server ",(0,t.kt)("img",{alt:"image",src:r(209312).Z+"#thumbnail2",width:"32",height:"32"})),(0,t.kt)("p",null,"Une pop-in affiche la configuration \xe0 copier dans le ",(0,t.kt)("strong",{parentName:"p"},"terminal du Remote\nServer"),".\nCliquer sur ",(0,t.kt)("strong",{parentName:"p"},"Copy to clipboard"),"."),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"image",src:r(401848).Z,width:"1320",height:"326"})),(0,t.kt)("p",null,"Coller le contenu du presse-papier directement dans le ",(0,t.kt)("strong",{parentName:"p"},"terminal du Remote\nServer")," car celui-ci cr\xe9era le fichier de configuration attendu :"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'cat <<EOF > /etc/centreon-gorgone/config.d/40-gorgoned.yaml\nname: gorgoned-My Remote Server\ndescription: Configuration for remote server My Remote Server\ngorgone:\n  gorgonecore:\n    id: 3\n    external_com_type: tcp\n    external_com_path: "*:5556"\n    authorized_clients:\n      - key: Np1wWwpbFD2I0MdeHWRlFx51FmlYkDRZy9JTFxkrDPI\n    privkey: "/var/lib/centreon-gorgone/.keys/rsakey.priv.pem"\n    pubkey: "/var/lib/centreon-gorgone/.keys/rsakey.pub.pem"\n  modules:\n    - name: action\n      package: gorgone::modules::core::action::hooks\n      enable: true\n\n    - name: cron\n      package: "gorgone::modules::core::cron::hooks"\n      enable: true\n      cron: !include cron.d/*.yaml\n\n    - name: nodes\n      package: gorgone::modules::centreon::nodes::hooks\n      enable: true\n\n    - name: proxy\n      package: gorgone::modules::core::proxy::hooks\n      enable: true\n\n    - name: legacycmd\n      package: gorgone::modules::centreon::legacycmd::hooks\n      enable: true\n      cmd_file: "/var/lib/centreon/centcore.cmd"\n      cache_dir: "/var/cache/centreon/"\n      cache_dir_trap: "/etc/snmp/centreon_traps/"\n      remote_dir: "/var/cache/centreon/config/remote-data/"\n\n    - name: engine\n      package: gorgone::modules::centreon::engine::hooks\n      enable: true\n      command_file: "/var/lib/centreon-engine/rw/centengine.cmd"\n\n    - name: statistics\n      package: "gorgone::modules::centreon::statistics::hooks"\n      enable: true\n      broker_cache_dir: "/var/cache/centreon/broker-stats/"\n      cron:\n        - id: broker_stats\n          timespec: "*/5 * * * *"\n          action: BROKERSTATS\n          parameters:\n            timeout: 10\n        - id: engine_stats\n          timespec: "*/5 * * * *"\n          action: ENGINESTATS\n          parameters:\n            timeout: 10\n\nEOF\n')),(0,t.kt)("p",null,"Appuyer sur la touche ",(0,t.kt)("em",{parentName:"p"},"Entr\xe9e")," pour que la commande soit appliqu\xe9e."),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Vous pouvez copier la configuration en s\xe9lectionnant le contenu de la popin\npour la copier dans un fichier de configuration personnalis\xe9.")),(0,t.kt)("p",null,"Red\xe9marrez Centreon Gorgone:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart gorgoned\n")),(0,t.kt)("h2",{id:"mise-\xe0-jour-de-la-configuration-centreon-broker"},"Mise \xe0 jour de la configuration Centreon Broker"),(0,t.kt)("p",null,"Rendez-vous dans le menu ",(0,t.kt)("strong",{parentName:"p"},"Configuration > Pollers > Pollers")," et \xe9ditez la configuration li\xe9e \xe0 votre collecteur."),(0,t.kt)("p",null,"Dans l'onglet ",(0,t.kt)("strong",{parentName:"p"},"Output")," , ajoutez ou modifiez l'entr\xe9e ",(0,t.kt)("strong",{parentName:"p"},"TCP - IPv4")," pour se connecter au nouveau serveur :"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"image",src:r(461340).Z,width:"1916",height:"688"})),(0,t.kt)("p",null,"Cliquez sur ",(0,t.kt)("strong",{parentName:"p"},"Save")),(0,t.kt)("h2",{id:"deploy-the-new-configuration"},"Deploy the new configuration"),(0,t.kt)("p",null,"Rendez-vous dans le menu ",(0,t.kt)("strong",{parentName:"p"},"Configuration > Pollers > Pollers")," et d\xe9ployez la configuration de votre collecteur."),(0,t.kt)("p",null,"Sur le serveur sur lequel vous avez connect\xe9 votre serveur, red\xe9marrez Centreon Gorgone :"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart gorgoned\n")))}d.isMDXComponent=!0},209312:(e,n,r)=>{r.d(n,{Z:()=>t});const t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAACsklEQVRYw+2XTWgTQRSARzz0INQiQrEgVCk9ePEPBYkgHlpFKqGH9qA9iAcFJYq0CD0UcvHnUkSIejL+VSsKrbTgJdUWhWINVgkx+C/ZTZpqGpNNSdKYNM83k91l2uwmuzHtoXTgI2V25r2vmfdmW2Kx7K9DHiMhRFoCRpDtAEC0IPhwAIElxlNMIL4MAlBMYJZbOIbYK8QdowISt9CGEDPoBcZnW8sRsFdQ4MCqwP8KrEUsciCjrK+kwIYy2s1aSYEqpNtk69WvqBpYh7iQcRPsrKRANZI2WQMHV1wb7kX2maB6tQ2XvQaI078JaUMcyEvkE+Omd7Km6zY0dHTCnqYWwDmiSbltuLvZ6sYEAUyUxkBQFMcH+nkJqTUjoNuGjccvKEFVqvoFIP2BXAmZIGI1KrBGllgAueW7qAbsE4HcF+Dsmyik53MwMzcPR1+ECxPfQ7mHYpabO2NEoKDfMdAJJchVjwQ9kxKQByLwI4ISLCEvcFcAh2+W7eHmO7QEbEWKbQsGnqObu99JLFmXO8aC5TiBb/FMoQByxZPfQ/fKcxKLafSPUnLd7acbj4yE1WS93jgLdsgVhmAiC95oBnYMT2ue/7WPcXVfsyusFO7rxQK6kMsuWCzwNZ5lXy8Lhkeh9ZsrNfBFyvACf3mBPiMCuw634oYfwB8BHecnolCqDTvfxtT13BHElCPYiDiRX6X+zWo42ZNUgtom8pVPR/vYjG5y+owOuvbU+B/+WTsrQr0rUvfqdPrPKUEan4XgeSDFEgwJSTj2KgLbhqYZ9Gc6Rwdds3lgKsUlP622oVkBWaIVEZWA9YOhKBZk5MnPZGJYTMGgkEw8+p74bX8f89U8DQa4xHRPy4KLqBwBWaJWvl6jJa/i/Brtq7hcAU6kTn4Z3UBGkc8yo/Jcm7xG82X0Dw5x9TxQrpDRAAAAAElFTkSuQmCC"},619798:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/move_poller_conf_1-37a5d2be826cb4d4ce462d9372de84c3.png"},461340:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/move_poller_conf_2-774209514bf99b09e8cbc27c14f3e33a.png"},401848:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/remote-gorgone-display-config-bd75cff7863cde004abe762437a03b31.png"}}]);
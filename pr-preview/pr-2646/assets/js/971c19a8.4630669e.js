"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[68131],{603905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var r=n(667294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?r.createElement(g,i(i({ref:t},c),{},{components:n})):r.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},360065:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>u});n(667294);var r=n(603905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const l={id:"configure",title:"Configure"},s=void 0,p={unversionedId:"reporting/configure",id:"version-22.04/reporting/configure",title:"Configure",description:"Jobs & reports access restrictions (ACL)",source:"@site/versioned_docs/version-22.04/reporting/configure.md",sourceDirName:"reporting",slug:"/reporting/configure",permalink:"/centreon-documentation/pr-preview/pr-2646/docs/22.04/reporting/configure",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/versioned_docs/version-22.04/reporting/configure.md",tags:[],version:"22.04",lastUpdatedAt:1695816394,formattedLastUpdatedAt:"Sep 27, 2023",frontMatter:{id:"configure",title:"Configure"},sidebar:"version-22.04/docs",previous:{title:"Widgets",permalink:"/centreon-documentation/pr-preview/pr-2646/docs/22.04/reporting/widgets"},next:{title:"Concepts",permalink:"/centreon-documentation/pr-preview/pr-2646/docs/22.04/reporting/concepts"}},c={},u=[{value:"Jobs &amp; reports access restrictions (ACL)",id:"jobs--reports-access-restrictions-acl",level:2},{value:"General Options",id:"general-options",level:2},{value:"Notification options",id:"notification-options",level:3},{value:"Scheduler options",id:"scheduler-options",level:3},{value:"CBIS properties",id:"cbis-properties",level:4},{value:"Report generation scheduling properties",id:"report-generation-scheduling-properties",level:4},{value:"Custom report properties",id:"custom-report-properties",level:4},{value:"ETL options",id:"etl-options",level:3},{value:"Data retention options",id:"data-retention-options",level:3},{value:"Report Parameter",id:"report-parameter",level:3},{value:"Reporting Widgets",id:"reporting-widgets",level:3}],d={toc:u},m="wrapper";function g(e){var{components:t}=e,l=i(e,["components"]);return(0,r.kt)(m,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,l),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"jobs--reports-access-restrictions-acl"},"Jobs & reports access restrictions (ACL)"),(0,r.kt)("p",null,"You can restrict access for generating or viewing reports to specific\ngroups by configuring the Access Control List (ACL)."),(0,r.kt)("p",null,"The report design filter enables you to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Allow access to report design templates when creating a new job.")),(0,r.kt)("p",null,"The job filter enables you to enable a user to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'View generated reports ("Report View" page).'),(0,r.kt)("li",{parentName:"ul"},'View jobs, and create and modify them ("Jobs" page).'),(0,r.kt)("li",{parentName:"ul"},"Receive generated reports by e-mail.")),(0,r.kt)("p",null,"To manage Centreon MBI rules, go to the following page: `Administration > ACL > Centreon MBI > ACL Rules"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(670878).Z,width:"1435",height:"138"})),(0,r.kt)("p",null,"To modify or add a new rule, use this menu, which has three menu tabs:"),(0,r.kt)("p",null,'The "General information" menu shows the pre-defined access groups\nthat can be linked to a rule.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(991337).Z,width:"1441",height:"659"})),(0,r.kt)("p",null,'The "report designs" menu shows the report designs and report design\ngroups that can be linked to a rule.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(10941).Z,width:"1443",height:"714"})),(0,r.kt)("p",null,'The final menu under the "Jobs" tab shows the scheduled jobs that can\nbe linked to a rule. If no report design has been selected in the\nprevious menu, no scheduled task will appear here.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(194106).Z,width:"1444",height:"718"})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Important")),(0,r.kt)("p",{parentName:"blockquote"},"Non-administrator users cannot receive notification for\nreports they are not authorized to view even if they are associated with\na contact group eligible for notification."),(0,r.kt)("p",{parentName:"blockquote"},"You can assign read-only access to users on the ACL for viewing the\ncontent of other Centreon menus. These include:"),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"Job groups"),(0,r.kt)("li",{parentName:"ul"},"Report designs"),(0,r.kt)("li",{parentName:"ul"},"Report design groups"),(0,r.kt)("li",{parentName:"ul"},"Logos"),(0,r.kt)("li",{parentName:"ul"},"Publication rules."))),(0,r.kt)("p",null,'We strongly advise against giving a limited user access to the "General\noptions" page, which would allow him or her to modify the\nconfiguration.'),(0,r.kt)("h2",{id:"general-options"},"General Options"),(0,r.kt)("p",null,"Centreon MBI general options are used to configure:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Scheduling options for jobs that generate reports"),(0,r.kt)("li",{parentName:"ul"},"Communication between Centreon & the reporting server"),(0,r.kt)("li",{parentName:"ul"},"Notification parameters for Centreon MBI administrators"),(0,r.kt)("li",{parentName:"ul"},"Data to agregate & retention (ETL)")),(0,r.kt)("h3",{id:"notification-options"},"Notification options"),(0,r.kt)("p",null,"The reporting engine can notify Centreon MBI administrators by e-mail\nafter each report generation. The e-mail includes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The direct download links to the reports"),(0,r.kt)("li",{parentName:"ul"},"Log file pertaining to the job that generated the reports.")),(0,r.kt)("p",null,"Centreon MBI administrators can thus be informed if any job fails. This\nnotification, however, is different from publication by e-mail of the\nactual reports sent to specific users. The notification option sends an\ne-mail to Centreon MBI administrators containing only the logs of the\njob that generated the report."),(0,r.kt)("p",null,"The notification option parameters can be modified in the menu:\n",(0,r.kt)("inlineCode",{parentName:"p"},"Reporting > Business Intelligence > General Options | Notification Options")),(0,r.kt)("p",null,"Description:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Row"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Enable job notification for administrators"),(0,r.kt)("td",{parentName:"tr",align:null},"Enables the default notification system. This option can be disabled for scheduled jobs.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"E-mail from"),(0,r.kt)("td",{parentName:"tr",align:null},"E-mail sender")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SMTP server"),(0,r.kt)("td",{parentName:"tr",align:null},"SMTP server address (IP/DNS)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SMTP port"),(0,r.kt)("td",{parentName:"tr",align:null},"SMTP port")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Use credential"),(0,r.kt)("td",{parentName:"tr",align:null},"Uses an authentication (yes/no)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Use SSL"),(0,r.kt)("td",{parentName:"tr",align:null},"Uses an SSL authentification (yes/no)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SMTP user"),(0,r.kt)("td",{parentName:"tr",align:null},"SMTP user account")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SMTP password"),(0,r.kt)("td",{parentName:"tr",align:null},"Password for SMTP user (",(0,r.kt)("em",{parentName:"td"},"Set this parameter only if you need to update the password"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"E-mail default title"),(0,r.kt)("td",{parentName:"tr",align:null},"Default subject line for notification e-mail, if no other is specified")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Default E-mail body"),(0,r.kt)("td",{parentName:"tr",align:null},"Default body of notification e-mail, if no other is specified")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Default E-mail footer"),(0,r.kt)("td",{parentName:"tr",align:null},"Default footer of notification e-mail, if no other is specified")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Centreon main server web protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"The protocol used by Centreon web interface (http / https)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Centreon web URL extension"),(0,r.kt)("td",{parentName:"tr",align:null},"The Centreon server URL extension (e.g.: /centreon)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Centreon main server"),(0,r.kt)("td",{parentName:"tr",align:null},"Centreon server address")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Contact groups"),(0,r.kt)("td",{parentName:"tr",align:null},"Centreon MBI administrators contact groups. Leave empty if you do not want to receive a notification after each report is generated.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Testing notification"),(0,r.kt)("td",{parentName:"tr",align:null},'Enter an e-mail address into this field, then click on "test" to send an e-mail validating your configuration.')))),(0,r.kt)("h3",{id:"scheduler-options"},"Scheduler options"),(0,r.kt)("p",null,"The following menu allows you to modify the scheduling options of the\nreporting engine:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Reporting > Business Intelligence > General Options | Scheduler options")),(0,r.kt)("h4",{id:"cbis-properties"},"CBIS properties"),(0,r.kt)("p",null,"The Centreon MBI interface can instantly communicate with the CBIS\nreporting engine. It opens a connection on the CBIS listening port to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Alert about the modification or creation of a job."),(0,r.kt)("li",{parentName:"ul"},"Update the available languages for translation of the reports."),(0,r.kt)("li",{parentName:"ul"},"Test publication rule configurations."),(0,r.kt)("li",{parentName:"ul"},"Test the configuration of notifications.")),(0,r.kt)("p",null,"Parameters description:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CBIS host"),(0,r.kt)("td",{parentName:"tr",align:null},"IP address of server hosting the reporting engine")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CBIS port"),(0,r.kt)("td",{parentName:"tr",align:null},"TCP listening port for CBIS engine")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CBIS connection timeout"),(0,r.kt)("td",{parentName:"tr",align:null},"Time limit (in seconds) for connection to the reporting engine")))),(0,r.kt)("p",null,"Any modification of these parameters requires restarting the CBIS daemon"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"systemctl restart cbis\n")),(0,r.kt)("h4",{id:"report-generation-scheduling-properties"},"Report generation scheduling properties"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Description of parameters:")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"All cyclic reports generation hour"),(0,r.kt)("td",{parentName:"tr",align:null},"Hour for generating daily/weekly/monthly reports")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Day of month for the generation of monthly reports"),(0,r.kt)("td",{parentName:"tr",align:null},"Day of month for generating monthly reports")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Day of week for the generation of weekly reports"),(0,r.kt)("td",{parentName:"tr",align:null},"Day of week for generating weekly reports")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Maximum load allowed to the scheduler for the jobs execution"),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum load authorized for running simultaneous jobs")))),(0,r.kt)("h4",{id:"custom-report-properties"},"Custom report properties"),(0,r.kt)("p",null,"Two reports require access to the Centreon main server to generate RRD\ngraphs. These reports are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Host-graph-v2"),(0,r.kt)("li",{parentName:"ul"},"Hostgroup-graph-v2.")),(0,r.kt)("p",null,"Fill in the following field specifying the server address:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(996445).Z,width:"1441",height:"40"})),(0,r.kt)("p",null,"Any modification of these parameters requires restarting the CBIS\ndaemon."),(0,r.kt)("p",null,'The default theme can also be defined in this menu, using the option\n"Default report color theme".'),(0,r.kt)("h3",{id:"etl-options"},"ETL options"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"ETL stands for ",(0,r.kt)("strong",{parentName:"em"},"E"),"xtract ",(0,r.kt)("strong",{parentName:"em"},"T"),"ransform ",(0,r.kt)("strong",{parentName:"em"},"L"),"oad")),(0,r.kt)("p",null,"The ETL integrated in Centreon is used to"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Synchronize monitoring raw data with the reporting server"),(0,r.kt)("li",{parentName:"ul"},"Calculate availability and performance statistics on the reporting\nserver"),(0,r.kt)("li",{parentName:"ul"},"Manage data retention on the reporting server.")),(0,r.kt)("p",null,"It configured at installation and will probably not need any modification later."),(0,r.kt)("p",null,"Before proceding, you should have read ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2646/docs/22.04/reporting/installation#best-practices-for-monitoring"},"the best practice parts")," to ensure\nthat the objects (e.g., groups, categories) are configured according to Centreon MBI requirements."),(0,r.kt)("p",null,"In the Centreon menu ",(0,r.kt)("strong",{parentName:"p"},"Reporting > Business Intelligence > General Options > ETL options"),",\nspecify the following options:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Options")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Values")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"General options")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Reporting engine uses a dedicated dedicated MariaDB server"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes. You ",(0,r.kt)("strong",{parentName:"td"},"must")," use a reporting server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Compatibility mode to use report templates from version of Centreon MBI prior to 1.5.0"),(0,r.kt)("td",{parentName:"tr",align:null},"No (deprecated)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Temporary file storage directory on reporting server"),(0,r.kt)("td",{parentName:"tr",align:null},"Folder where dumps will be stored on the reporting server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Type of statistics to build"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Select \u201cAvailability only\u201d if you only use availability reports."),(0,r.kt)("li",null,"Select \u201cPerformance and capacity only\u201d if you only want to use capacity and performance reports."),(0,r.kt)("li",null,"Select \u201cAll\u201d to calculate the statistics for both types of reports.")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Use large memory tweaks (store MariaDB temporary tables in memory)"),(0,r.kt)("td",{parentName:"tr",align:null},"Activated only if your MariaDB configuration and allocated physical memory on the server permit.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Reporting perimeter selection")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Hostgroups"),(0,r.kt)("td",{parentName:"tr",align:null},"Select only host groups for which you want to aggregate data.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Hostcategories"),(0,r.kt)("td",{parentName:"tr",align:null},"Select only host categories for which you want to aggregate data.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Service categories"),(0,r.kt)("td",{parentName:"tr",align:null},"Select only service categories for which you want to aggregate data.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Availability statistic calculation")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Live services for availability statistics calculation"),(0,r.kt)("td",{parentName:"tr",align:null},"Select required time periods.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Performance and capacity statistic calculation")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Granularity required for performance data statistics"),(0,r.kt)("td",{parentName:"tr",align:null},"Select level of granularity required to run the desired performance reports (1).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Live services for performance data statistics calculation"),(0,r.kt)("td",{parentName:"tr",align:null},"Select required time periods.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Capacity statistic aggregated by month")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Live services for capacity statistics calculation"),(0,r.kt)("td",{parentName:"tr",align:null},"Select the \u201c24x7\u201d time period.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Service categories related to capacity data monitoring"),(0,r.kt)("td",{parentName:"tr",align:null},"Select the service categories that have been associated with capacity-type services.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Exclude metrics from service categories that do not return capacity USAGE information"),(0,r.kt)("td",{parentName:"tr",align:null},"Concerns the metrics linked to services which return capacity data. Select the metrics that do not return capacity usage information. but a maximum or total value. (e.g., the metric \u201csize\u201d).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Centile parameters (2)")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Calculating centile aggregation by"),(0,r.kt)("td",{parentName:"tr",align:null},"Select the desired aggregation level. The standard percentile report provided with BI 2.1 uses Month data.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Select service categories to aggregate centile on"),(0,r.kt)("td",{parentName:"tr",align:null},"Filter on relevant service categories for centile statistics (e.g., Traffic).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"First day of the week"),(0,r.kt)("td",{parentName:"tr",align:null},"Select the first day of the week for Week aggregation.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Centile / Timeperiod combination"),(0,r.kt)("td",{parentName:"tr",align:null},"Create a new centile/timeperiod combination on which to perform the calculation.")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(1)")," Reports requiring a precise value per hour of performance data\nare listed below. If you do not use the following reports, disable the\nstatistics calculation per hour:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Hostgroup-Host-details-1"),(0,r.kt)("li",{parentName:"ul"},"Host-detail-v2"),(0,r.kt)("li",{parentName:"ul"},"Hostgroup-traffic-Average-Usage-By-Interface"),(0,r.kt)("li",{parentName:"ul"},"Hostgroup-traffic-by-Interface-And-Bandwith-Ranges.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(2)"),' Centile statistics: To use the "Monthly Network Percentile" report you must activate\ncentile calculation. Here is an example:'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(70293).Z,width:"1339",height:"344"})),(0,r.kt)("p",null,'Only service categories selected in "Reporting perimeter selection"\nwill appear in the list of service categories available for centile\nstatistics.'),(0,r.kt)("p",null,"You can create as many centile-time period combinations as you like, ",(0,r.kt)("strong",{parentName:"p"},"but\nwe strongly recommend")," not having more than 2 or 3 combination* on a small number of metrics\ncontained in the category."),(0,r.kt)("h3",{id:"data-retention-options"},"Data retention options"),(0,r.kt)("p",null,'The reporting server contains statistics tables specific to Centreon MBI\nin the database "centreon_storage". The storage space used by these\ntables increases every day. It is possible to control the size of these\ntables by setting data retention rules.'),(0,r.kt)("p",null,"Under ",(0,r.kt)("em",{parentName:"p"},"Reporting > Monitoring Business Intelligence > General options > Data retention"),",\ndata retention can be managed by:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Type of data (availability, performance)."),(0,r.kt)("li",{parentName:"ul"},"Precision of data (raw data, hourly, daily or monthly values).")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Before enabling the data retention options, check that the ",(0,r.kt)("strong",{parentName:"p"},"Reporting\nengine uses a dedicated MariaDB server"),' option is correctly set to\n"Yes" in the ',(0,r.kt)("em",{parentName:"p"},"Reporting > Business Intelligence > General options ETL options")," menu.")),(0,r.kt)("p",null,'Enable data retention management by selecting "Yes", then set the\noptions in the configuration (example below).'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(644960).Z,width:"1392",height:"552"})),(0,r.kt)("p",null,"To activate automatic purge of old data, edit the cron file\n",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/cron.d/centreon-bi-purge")," on the reporting server, then uncomment the following line:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#0 20 * * * root @CENTREON_BI_HOME@/*etl*/dataRetentionManager.pl >> @CENTREON_BI_LOG@/dataRetentionManager.log 2>&1\n")),(0,r.kt)("p",null,"Avoid periods scheduled for statistical calculations with Centreon MBI\nETL and report generations."),(0,r.kt)("p",null,"You can run this cron daily or weekly, depending on the execution time of the batch and the load generated on the server."),(0,r.kt)("p",null,"Then restart the service cron:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"systemctl restart crond\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"BEST PRACTICE"),": Select different retention periods according to the\ngranularity of the statistical data:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Hourly aggregated values are used to analyze a metric over a short period, they take a\nlot of space on the disk. You may not need to keep these statistics more that two or three months."),(0,r.kt)("li",{parentName:"ul"},"Beyond five or six months, you may only need to view the trend for\navailability or performance statistics. You could then keep the\ndaily aggregated data for a maximum of six months, for example, and\nconfigure the retention of monthly aggregated data for a period of\nseveral dozen months.")),(0,r.kt)("p",null,"Please go to the next chapter to continue the installation."),(0,r.kt)("h3",{id:"report-parameter"},"Report Parameter"),(0,r.kt)("p",null,"This tab enables you to display the dimensions available for a given\nuser based on ACL restrictions and what was calculated in the data\nwarehouse."),(0,r.kt)("p",null,'When updating the groups and categories configuration, make sure to\nupdate the ACL by clicking on "Update ACL resources". This will update\navailable objects when configuring jobs.'),(0,r.kt)("h3",{id:"reporting-widgets"},"Reporting Widgets"),(0,r.kt)("p",null,"This menu is used to verify the connection to the reporting database and\nedit the connection parameters, which are used to populate the widgets\nwith data."))}g.isMDXComponent=!0},670878:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/AclRules-46393428e21dae79b72907e58ef1922f.png"},991337:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/AclRulesGeneralInformation-312cb8e8c17cb37db69c18ff1148ebdf.png"},10941:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/AclRulesReportDesign-00acc3016dcd5438e7e981bfcc2fb198.png"},194106:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/AclRulesReportJob-f101c01dccd6c1af058b00a5bd79beb0.png"},70293:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/centileParameters-f76e4ee79001e27237ad1695cc2abc00.png"},996445:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaEAAAAoCAIAAABo26GzAAAACXBIWXMAAAsSAAALEgHS3X78AAALUklEQVR42u2dS24cNxCG51TOSbQ0coOZK2SngdZGvDUMnSABkkW2hoC5ggEjXmibXYDYQgJFM/0kq1gsdrPnofl+fAu7xWlWs6tt1T8ke/XX388AAAAAAAAAAJfOiiEAAAAAAAAAADwOAAAAAAAAAAA8DgAAAAAAAACAWh7HP0/PAAAAAAAAAACXDh4HAAAAAAAAAOBxAAAAAAAAAADgcQAAAAAAAAAA4HEAAAAAxPyBEEIIoasRHgcAAADgcSCEEEIIjwMAAADgEjyOZ4QQQgi9auFxAAAAAB4HQgghhK7b4/jycXMTaPPh62K/mny9X293V/Wr2KftfkxvH/itdCa72/1A3n1yJ/P64+MVjU/4ZDXjcF0jAAB4HAghhBC6do/j4e4mpSWciKY7PA5YyOMI8/mKxlw8WXgcpXx/u3p+8/4bQwGAx4EQQgihS/U4+oJwff9FPV7djMDjgCU9jnYSx5Ul2NU+WXX59u6H57e/Mw4Al+ZxPN7v/+G/25m/IT0+PmaPTNPu5V/fzf2jcmTX/C6lRdbE3HysbjM9QMI4kzBktiynWhm+xDOCEELLeRxNxZiovb/er5dYtILHAct7HNc4eQGPYzKf3/+3Wj2H/PsrIwPwWjwO+XOXKzLb4kiXwHH5W7eZu64njKOHcaxiv2aGY3EghC7K48h+462Xi633oa4FePywbm2RpqqPtvYYHRwmiRwOvlStreESuCpWX7FT0ykqgDMhCYb21kDJetIMdfA4RispnHV4vFVKNOPGtwNFfouK7FBHa5pk2mQb5Ma5jaG7QC0xTI8jvAQRg50nZh46m1XLgeJQtz8pFx4+v94HIfqpyzPy3Pr84ARX9O5nvV8lnsIzp5/9P5/erJ5XPzx9pnoEwOMoKibD8i08opTAWvlbt5mrrieM44chs+UaPI6jXTVCCI9j2uQCsTVpVNI0dZRUW1cYHsftNq7hc32l2wQlUCak1DWOhqU7w8hciNpkQ22Heiu2PtEMC2EESI2LXq1NMErZBvn49QZiQEquzutxhIkx0eNw5EkyD1WPY0K6OnNgWqi/bJ0eh/0gRN7K/qe324zH4bn1vsEJRzVMhlTaTDmzYXC8ef/0dvW8+vE7BSQAHkcdi0OWwM1fZclXt1m2rieME4RxvGL/nDwOLA6E0DE9jqZayLyiQqshlQK7q/aHOio+0lcdYgZEZ3xo5a7V11DTjguwrubpz+YIKTPnvy/8+mDCQssR6mDu9KfVgterx6Aqi5cXddfb9S5WGGUbOOJvOh3foNIGkz0OtQgvXKviypNEHj6lpjkUp6srB+aEmtlzNP8gxKky+kg6Sx23vmBw5HmsDJl65tRylWYGx97sYKEKwGV6HM0fbrSlBN1/5DvtSHss+mFUIB5+EpdqDosjrHmbP+q1Z91mS5+fMIqbydwYpZvmAoxTVabZ/tCQ8mbOtx94+ePwsz7CdC/a+YILM8PA4kAIncLjcL2GU1R3slQ4nKetOtoCI6iIotIr5XGEjoOjr/aDqdns3QkdIT1ZvTSNm6/fg5I+CMMVatxjE0byi2WtxksvQJjawBN/NlWKc6nA41DWm5R5HL48SdyjlMcxNV31zX3LUtpMp5zHkX4QpFsxeGo5j8O6I5MfEHkry1PXe1sB4PI9js0mnNcV7ojh8jju4pl249JM8zi6wtE6Mi6BmxDTVXjdZkufnzDKmkW5MfIFNHtgp7z1cGggP2zmfNf5kOFqU2cYw0WYYZhPBEIInYnHkZrrPp7joH17H331mvA4wiLK35f69ez40hwhmVXZoay6+3T4SBvk4RJySwCCqR+JZUFlU2m0PTXmuw8Ft/Umeapsg+keR5gYEzwOZ54k/QXV4yhPV08OzAvV53EkH4Tmz8ILyA1LUW5kBkff+md4TqPxmXFmAHiFHsdQWrV/jwoxc61KX8nFX26bxZnb4lB7MCrlWs0I44zCiHIjXNAS56xc7qK2j//ef0BkePwBVy/dJUlvpT1zLgwsDoTQ0T2O0rUqcq2+z3fweRxh7efpyyh3pcdhhmRtyXH4eL8TxGibg3CZhqfQkrWrUdP6dmfIXUi+gS9+ZauLaOSzDaZ6HFpiFHkczjzxbk8zNV09OTAvVJfHkR7wxOSm/J6jmVvvHxxl8INBi5N51pkB4PXN40jOuXB7HGEplt/SYP+p8OfyiKiAM/Ve3WaEcT5hhLkhpgUFB/q1UyIh2xbFOZ/cLNXqRV12Mz6YC8N8IhBCaAmPw/Pb/0sV0RdFnnkfdT0Ou68FPY7Rd9qDtdG9oCHyhlzTYaZ5HJHB0dSZQc1ZzeNwWV3ScIlK32yDV+1xzM+By/Q4MrfePzjJt/mMM3/UZt6ZAeA17zk6zeOISzF1B46JFsd4yr9R8tVtRhhnFEaYG7aBpi8BEUtPSnJe6TDbSyLIUU+5MLA4EELH9zhy21JEuwCoy/UX9TjK+1J6nORx9NM3Di2b2A6j0b2+NN6R1LVRpSi07CJNP3NYc85fq+KKPz37ww7e6lqp+bXNKWZ7HM48me9xzM+BeaHO9DgSa1WcHkf61s8ZnPHmGnLe2cwzAwAex87xjXa6QvNbHMNCBHMFTN1mhHFWYUS5YeeWuglGdY8j28t8jwOLAyF0Ao9DvKRDnYIev6EgqoJKDQWXx+Hpq2jP0VKPo5218aH1NeLNR+WWlp5Qy/Yctd6d6S5cJ27tWWUCSKaBvO/Re2QqeRxlG3lO8jiq5cCsUGd6HBP3HM3fev/gqIPfemEPigUz88wAgMcxZx7H/qdy6n/ihaHD2ZOVct1mVhVOGMcPI84NzzwO6zrqzeMwepntcSSeCIQQWtbj6Oqi1OseovqhOygWAvjrKKV4tgo2q6/RRgCirhMbExZ7HNrI9F9Qa7MPzFD794bK4NPVl3SgRhsQ5N732XeUbZCPX3lDZ+hHZBt43owrBryWx+HLk1keR7UcmBOqyOpCj2PSu2M9t949OPrgPwxfNE0edjwOADyO8v047FeRei2OeDPJRKVct1mupieMI4ehZ4uyAai1EUZtjyPfi3M/jlQYWBwIoVN5HGEJIXa2jAtUfQvM5IsP0h7HqJBLFSG5vhxbcs7xOHpDYag2u5KveFi6a9yKoTZfadlXxYpkVMlRyjbwxi/fDhZV3UYDz16V6+3degmPw5Un8zwO9xiu1xs7B6aHKp6sUo/DeFOJMY/Dc+u9D8hD8bqneWcGgGvyOOS36NHOiMp7Kexv2sPyTR5Ry1+1BK7bzFPTE8Yxw9ByIzpR7oUmUYvinFfnZOR6cb5XJRGG+kQghNCRPA69UElXp2Fpqr1EM2MoDGXJ4aBVhFh9pV7cEBVCkz0O5V2b+tx4R6jDNRpfSju3HTW+OU/7JtkG+aGOvDA5etkGZqf70Vhkz1Fnnsz1OKrmwMRQoyer3OMQ/xRsd2KnT4dPqt565+DkNwaqeWYAuAqPY7TxQFS79UeaD2w26t4Hyjl9Fode/ooCt24zefmEceIw9GJf2fJT5Jv4/iA9NymT89a6k2QvqQbGa5mHMLA4EEKn9zgAYFEutNhOvA4GAOCCPI5ROdm1io50HxjVndbuHC6LI13+BiVw3Wa6HUMYpwzjt3SxP3IQ0ju5aA2Kcz69+YbRi+ZzZLb06MPA4kAI4XEA4HGcGG3P0XaChuvVwgAAJ/I4Kij3mliEEEII4XEAwEXN40jt/8JCDwDA40AIIYQQHgcAXNpalXgHYmZwAAAeB0IIIYTwOAAAAADwOBBCCCGExwEAAABwNI8DIYQQQngcAAAAAKf0OBBCCCF0DcLjAAAAADwOhBBCCOFxAAAAAAAAAACcK3gcAAAAAAAAAIDHAQAAAAAAAACAxwEAAAAAAAAAUIv/AcQhkuybJz3nAAAAAElFTkSuQmCC"},644960:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/bi_retention-209a1a6b98f2a4fc96ccae775b045b78.png"}}]);
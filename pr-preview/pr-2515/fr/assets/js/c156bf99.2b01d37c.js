"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[78820],{603905:(e,t,r)=>{r.d(t,{Zo:()=>i,kt:()=>f});var n=r(667294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},i=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,i=p(e,["components","mdxType","originalType","parentName"]),u=s(r),d=a,f=u["".concat(c,".").concat(d)]||u[d]||m[d]||o;return r?n.createElement(f,l(l({ref:t},i),{},{components:r})):n.createElement(f,l({ref:t},i))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=d;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p[u]="string"==typeof e?e:a,l[1]=p;for(var s=2;s<o;s++)l[s]=r[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},342967:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>v,frontMatter:()=>p,metadata:()=>s,toc:()=>u});r(667294);var n=r(603905);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const p={id:"offline",title:"Installation offline"},c=void 0,s={unversionedId:"installation/offline",id:"version-23.04/installation/offline",title:"Installation offline",description:"Pour pouvoir installer Centreon sur des serveurs sans acc\xe8s internet, cr\xe9ez une copie locale du d\xe9p\xf4t Centreon sur un serveur avec acc\xe8s internet, puis faites pointer vos serveurs Centreon sans acc\xe8s internet sur celui-ci.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.04/installation/offline.md",sourceDirName:"installation",slug:"/installation/offline",permalink:"/fr/docs/installation/offline",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-23.04/installation/offline.md",tags:[],version:"23.04",lastUpdatedAt:1690809822,formattedLastUpdatedAt:"31 juil. 2023",frontMatter:{id:"offline",title:"Installation offline"},sidebar:"version-23.04/docs",previous:{title:"Configuration avanc\xe9e",permalink:"/fr/docs/monitoring/monitoring-servers/advanced-configuration"},next:{title:"S\xe9curisez votre plateforme",permalink:"/fr/docs/administration/secure-platform"}},i={},u=[{value:"Cr\xe9er une copie locale du d\xe9p\xf4t Centreon",id:"cr\xe9er-une-copie-locale-du-d\xe9p\xf4t-centreon",level:2},{value:"Garder votre d\xe9p\xf4t local \xe0 jour",id:"garder-votre-d\xe9p\xf4t-local-\xe0-jour",level:2}],m=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.kt)("div",t)},d=m("Tabs"),f=m("TabItem"),g={toc:u},b="wrapper";function v(e){var{components:t}=e,r=l(e,["components"]);return(0,n.kt)(b,o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},g,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Pour pouvoir installer Centreon sur des serveurs sans acc\xe8s internet, cr\xe9ez une copie locale du d\xe9p\xf4t Centreon sur un serveur avec acc\xe8s internet, puis faites pointer vos serveurs Centreon sans acc\xe8s internet sur celui-ci."),(0,n.kt)("h2",{id:"cr\xe9er-une-copie-locale-du-d\xe9p\xf4t-centreon"},"Cr\xe9er une copie locale du d\xe9p\xf4t Centreon"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installez ",(0,n.kt)("strong",{parentName:"li"},"centreon-release")," sur votre serveur miroir.")),(0,n.kt)(d,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(f,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf config-manager --add-repo https://packages.centreon.com/rpm-standard/23.04/el8/centreon-23.04.repo\ndnf clean all --enablerepo=*\ndnf update\n")),(0,n.kt)("p",null,"Puis r\xe9cup\xe9rez la cl\xe9 gpg pour les paquets :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"rpm --import https://yum-gpg.centreon.com/RPM-GPG-KEY-CES\n"))),(0,n.kt)(f,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"dnf config-manager --add-repo https://packages.centreon.com/rpm-standard/23.04/el9/centreon-23.04.repo\ndnf clean all --enablerepo=*\ndnf update\n")),(0,n.kt)("p",null,"Puis r\xe9cup\xe9rez la cl\xe9 gpg pour les paquets :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"rpm --import https://yum-gpg.centreon.com/RPM-GPG-KEY-CES\n"))),(0,n.kt)(f,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("p",null,"Pour installer le d\xe9p\xf4t Centreon, ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},'echo "deb https://packages.centreon.com/apt-standard-23.04-stable/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/centreon.list\necho "deb https://packages.centreon.com/apt-plugins-stable/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/centreon-plugins.list\n')),(0,n.kt)("p",null,"Puis importez la cl\xe9 du d\xe9p\xf4t :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"wget -O- https://apt-key.centreon.com | gpg --dearmor | tee /etc/apt/trusted.gpg.d/centreon.gpg > /dev/null 2>&1\napt update\n")))),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Cr\xe9ez un r\xe9pertoire pour le d\xe9p\xf4t local :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir -p /var/www/html/repos/centreon\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Installez les paquets n\xe9cessaires :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install yum-utils createrepo httpd\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Synchronisez les d\xe9p\xf4ts :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"reposync -p /var/www/html/repos/centreon/ -r centreon-stable-noarch\nreposync -p /var/www/html/repos/centreon/ -r centreon-stable\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Cr\xe9ez le d\xe9p\xf4t :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"createrepo /var/www/html/repos/centreon/\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"D\xe9marrez le serveur web :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"service httpd start\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Sur votre serveur Centreon, \xe9ditez le fichier suivant :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"vi /etc/yum.repos.d/centreon.repo\n")),(0,n.kt)("p",{parentName:"li"},"Ajoutez les lignes suivantes :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"[centreon]\nname=centreon\nbaseurl=http://<mirror_ip_address>/repos/centreon\ngpgcheck=1\nenabled=1\n")),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,n.kt)("inlineCode",{parentName:"p"},"<mirror_ip_address>")," par la v\xe9ritable adresse de votre d\xe9p\xf4t local.")))),(0,n.kt)("h2",{id:"garder-votre-d\xe9p\xf4t-local-\xe0-jour"},"Garder votre d\xe9p\xf4t local \xe0 jour"),(0,n.kt)("p",null,"Afin de synchroniser r\xe9guli\xe8rement votre miroir avec le d\xe9p\xf4t Centreon, cr\xe9ez un fichier cron :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"cd  /var/spool/cron\ncrontab -e\n")),(0,n.kt)("p",null,"Les commandes suivantes programmeront une synchronisation tous les jours \xe0 2h pour le d\xe9p\xf4t ",(0,n.kt)("strong",{parentName:"p"},"centreon-stable-noarch")," et tous les jours \xe0 3h pour le d\xe9p\xf4t ",(0,n.kt)("strong",{parentName:"p"},"centreon-stable"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"* 2 * * * reposync -p /var/www/html/repos/centreon/ -r centreon-stable-noarch\n* 3 * * * reposync -p /var/www/html/repos/centreon/ -r centreon-stable\n")))}v.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[56026],{603905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>v});var n=r(667294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(r),m=a,v=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return r?n.createElement(v,l(l({ref:t},p),{},{components:r})):n.createElement(v,l({ref:t},p))}));function v(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:a,l[1]=i;for(var u=2;u<o;u++)l[u]=r[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},605637:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>v,frontMatter:()=>i,metadata:()=>u,toc:()=>c});r(667294);var n=r(603905);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const i={id:"upgrade",title:"Monter de version de l'extension"},s=void 0,u={unversionedId:"reporting/upgrade",id:"version-22.04/reporting/upgrade",title:"Monter de version de l'extension",description:"Lors d'une mont\xe9e de version = 18.10.x, vous devez:",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-22.04/reporting/upgrade.md",sourceDirName:"reporting",slug:"/reporting/upgrade",permalink:"/fr/docs/22.04/reporting/upgrade",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-22.04/reporting/upgrade.md",tags:[],version:"22.04",lastUpdatedAt:1690809822,formattedLastUpdatedAt:"31 juil. 2023",frontMatter:{id:"upgrade",title:"Monter de version de l'extension"},sidebar:"version-22.04/docs",previous:{title:"Mise \xe0 jour de l'extension",permalink:"/fr/docs/22.04/reporting/update"},next:{title:"Migrer l'extension",permalink:"/fr/docs/22.04/reporting/migrate"}},p={},c=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Mettre \xe0 jour la cl\xe9 de signature RPM",id:"mettre-\xe0-jour-la-cl\xe9-de-signature-rpm",level:3},{value:"\xc9tape 1 : Mont\xe9e de version du paquet",id:"\xe9tape-1--mont\xe9e-de-version-du-paquet",level:2},{value:"\xc9tape 2 : Mettre \xe0 jour l&#39;interface",id:"\xe9tape-2--mettre-\xe0-jour-linterface",level:2},{value:"\xc9tape 3 : Mettre  \xe0 jour le serveur de reporting",id:"\xe9tape-3--mettre--\xe0-jour-le-serveur-de-reporting",level:2},{value:"Pr\xe9requis de la version Java",id:"pr\xe9requis-de-la-version-java",level:3},{value:"\xc9tape 4 : mise \xe0 jour de MariaDB",id:"\xe9tape-4--mise-\xe0-jour-de-mariadb",level:2}],d={toc:c},m="wrapper";function v(e){var{components:t}=e,r=l(e,["components"]);return(0,n.kt)(m,o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Lors d'une mont\xe9e de version < 18.10.x vers une version >= 18.10.x, vous devez:"),(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"R\xe9cup\xe9rer une nouvelle license via le support Centreon"),(0,n.kt)("li",{parentName:"ul"},"S'assurer que votre serveur de reporting est bas\xe9 sur CentOS 7. Si ce n'est\npas le cas, utiliser la proc\xe9dure de ",(0,n.kt)("a",{parentName:"li",href:"/fr/docs/22.04/reporting/migrate"},"migration de votre serveur de\nreporting")))),(0,n.kt)("p",null,"La mont\xe9e de version de Centreon MBI se fait en 4 \xe9tapes :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Mont\xe9e de version du d\xe9p\xf4t RPM"),(0,n.kt)("li",{parentName:"ul"},"Mise \xe0 jour de Centreon MBI server (interface)"),(0,n.kt)("li",{parentName:"ul"},"Mise \xe0 jour du serveur de reporting"),(0,n.kt)("li",{parentName:"ul"},"Mise \xe0 jour de la base MariaDB")),(0,n.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,n.kt)("h3",{id:"mettre-\xe0-jour-la-cl\xe9-de-signature-rpm"},"Mettre \xe0 jour la cl\xe9 de signature RPM"),(0,n.kt)("p",null,"Pour des raisons de s\xe9curit\xe9, les cl\xe9s utilis\xe9es pour signer les RPMs Centreon sont chang\xe9es r\xe9guli\xe8rement. Le dernier changement a eu lieu le 14 octobre 2021. Lorsque vous mettez Centreon \xe0 jour depuis une version plus ancienne, vous devez suivre la ",(0,n.kt)("a",{parentName:"p",href:"/fr/docs/22.04/security/key-rotation#installation-existante"},"proc\xe9dure de changement de cl\xe9"),", afin de supprimer l'ancienne cl\xe9 et d'installer la nouvelle."),(0,n.kt)("h2",{id:"\xe9tape-1--mont\xe9e-de-version-du-paquet"},"\xc9tape 1 : Mont\xe9e de version du paquet"),(0,n.kt)("p",null,"Lors d'une mont\xe9e de version majeure (ex: 20.10.x \xe0 22.04.x) il faut en premier lieu mettre \xe0 jour\nle d\xe9p\xf4t contenant les paquets. "),(0,n.kt)("p",null,"Vous trouverez ce d\xe9p\xf4t depuis votre compte sur notre ",(0,n.kt)("a",{parentName:"p",href:"https://support.centreon.com/hc/fr/categories/10341239833105-D%C3%A9p%C3%B4ts"},"platefome de support"),"."),(0,n.kt)("h2",{id:"\xe9tape-2--mettre-\xe0-jour-linterface"},"\xc9tape 2 : Mettre \xe0 jour l'interface"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Mettre \xe0 jour le paquet: se connecter sur le serveur Centreon et ex\xe9cuter la commande suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum update centreon-bi-server\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Mettre \xe0 jour l'interface: Se connecter \xe0 l'interface web de Centreon et se rendre dans le menu\n",(0,n.kt)("strong",{parentName:"p"},"Administration > Extension > Manager")," puis cliquer sur le bouton de mise \xe0 jour de l'extension et des widgets."))),(0,n.kt)("h2",{id:"\xe9tape-3--mettre--\xe0-jour-le-serveur-de-reporting"},"\xc9tape 3 : Mettre  \xe0 jour le serveur de reporting"),(0,n.kt)("h3",{id:"pr\xe9requis-de-la-version-java"},"Pr\xe9requis de la version Java"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Assurez-vous qu'une version de Java 17 (ou 18) est install\xe9e avant de commencer la proc\xe9dure.")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Pour v\xe9rifier quelle version de Java est install\xe9e, entrez la commande suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"java -version\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Pour une mise \xe0 jour de Java en version 17 (ou 18), allez sur la ",(0,n.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/downloads/#java17"},"page officielle de t\xe9l\xe9chargement d'Oracle"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si plusieurs versions de Java sont install\xe9es, vous devez activer la bonne version. Affichez les versions install\xe9es avec la commande suivante puis s\xe9lectionnez la version 17 (ou 18) :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"sudo update-alternatives --config java\n")))),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Premi\xe8rement, arr\xeatez le service d'ordonnancement (CBIS):"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop cbis\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Puis mettre \xe0 jour les paquets, en ex\xe9cutant la commande suivante:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum update centreon-bi\\*\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Enfin, red\xe9marrer le service d'ordonnancement:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start cbis\n")))),(0,n.kt)("h2",{id:"\xe9tape-4--mise-\xe0-jour-de-mariadb"},"\xc9tape 4 : mise \xe0 jour de MariaDB"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Arr\xeatez le service ",(0,n.kt)("strong",{parentName:"p"},"cbis")," :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop cbis\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Voir ",(0,n.kt)("a",{parentName:"p",href:"/fr/docs/22.04/upgrade/upgrade-mariadb"},"Mettre \xe0 jour MariaDB"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"D\xe9marrez le service ",(0,n.kt)("strong",{parentName:"p"},"cbis")," :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start cbis\n")))))}v.isMDXComponent=!0}}]);
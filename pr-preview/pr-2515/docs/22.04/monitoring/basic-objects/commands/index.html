<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-22.04 plugin-docs plugin-id-default docs-doc-id-monitoring/basic-objects/commands">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Commands | Centreon Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="22.04"><meta data-rh="true" name="docusaurus_tag" content="docs-default-22.04"><meta data-rh="true" name="docsearch:version" content="22.04"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-22.04"><meta data-rh="true" property="og:title" content="Commands | Centreon Documentation"><meta data-rh="true" name="description" content="Definition"><meta data-rh="true" property="og:description" content="Definition"><link data-rh="true" rel="icon" href="/centreon-documentation/pr-preview/pr-2515/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2515/fr/docs/22.04/monitoring/basic-objects/commands/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3WEC6XPLDB-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8418698-13","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BGL69N5GPJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BGL69N5GPJ",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Centreon Documentation" href="/centreon-documentation/pr-preview/pr-2515/opensearch.xml"><link rel="stylesheet" href="/centreon-documentation/pr-preview/pr-2515/assets/css/styles.0a723c28.css">
<link rel="preload" href="/centreon-documentation/pr-preview/pr-2515/assets/js/runtime~main.74d501a4.js" as="script">
<link rel="preload" href="/centreon-documentation/pr-preview/pr-2515/assets/js/main.82ba8dd0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/centreon-documentation/pr-preview/pr-2515/"><div class="navbar__logo"><img src="/centreon-documentation/pr-preview/pr-2515/img/logo_centreon_dark.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/centreon-documentation/pr-preview/pr-2515/img/logo_centreon.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2515/docs/getting-started/welcome/">Centreon OnPrem</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2515/cloud/getting-started/architecture/">Centreon Cloud</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2515/pp/integrations/plugin-packs/getting-started/introduction/">Monitoring Connectors</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/getting-started/installation-first-steps/">22.04</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2515/docs/monitoring/basic-objects/commands/">⭐ 23.04</a></li><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2515/docs/22.10/monitoring/basic-objects/commands/">22.10</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/">22.04</a></li><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2515/docs/21.10/monitoring/basic-objects/commands/">21.10</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Archived versions</b></li><li><a href="https://archives-docs.centreon.com/21.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">21.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.10/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.10<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs-older.centreon.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Older<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>🇬🇧 English</a><ul class="dropdown__menu"><li><a href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">🇬🇧 English</a></li><li><a href="/centreon-documentation/pr-preview/pr-2515/fr/docs/22.04/monitoring/basic-objects/commands/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">🇫🇷 Français</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/getting-started/installation-first-steps/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/installation/introduction/">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/administration/secure-platform/">Secure your platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/about/">Monitoring resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/about/">Monitoring basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/hosts-create/">Monitoring hosts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/services-create/">Monitoring services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/discovery/introduction/">Discovering hosts and services automatically</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/contacts/">Managing users/contacts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/groups/">Organizing hosts, services and contacts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/timeperiods/">Basic objects and actions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/timeperiods/">Time periods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/macros/">Macros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/generic-actions/">Generic actions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/anomaly-detection/">Detecting anomalies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/passive-monitoring/enable-snmp-traps/">Passive Monitoring</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/event-handler/">Auto Remediation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/web-import-export/">Import/Export</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/alerts-notifications/concepts/">Managing events and alerts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/metrology/chart-management/">Performance graphs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/service-mapping/introduction/">Service Mapping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/category/graphical-views/">Graphical views</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graphical views&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/reporting/introduction/">Reporting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/administration/parameters/centreon-ui/">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/update/update-centreon-platform/">Update, Upgrade &amp; Migrate</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/centreon-documentation/pr-preview/pr-2515/pp/integrations/plugin-packs/getting-started/introduction/">Plugin Packs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/integrations/introduction-integrations/">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/mobile/introduction/">Centreon mobile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/developer/about-developer-resources/">Developer resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/health/centreon-agent/">Monitoring your platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/releases/introduction/">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/security/">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/resources/known-issues/">Resources</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 22.04</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Commands</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="definition">Definition<a href="#definition" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>A command is the definition of a line of command which uses a script or an application to perform an action. It is
possible execute this command by specifying arguments.</p><p>There are four types of command:</p><ul><li><strong>Verification</strong> commands are used by the schedulers to verify the status of a host or of a service.</li><li><strong>Notification</strong> commands are used by the schedulers to alert the contacts (via mail, SMS, etc.).</li><li><strong>Discovery</strong> commands are used by the schedulers to discover.</li><li><strong>Miscellaneous</strong> commands are used by the additional modules (to perform certain actions), by the scheduler for
data processing, etc.</li></ul><p>All the commands can be configured in the menu: <strong>Configuration &gt; Commands</strong>.</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/pr-2515/assets/images/04commandlist-01e4e53d62927daeb15bbf4ced2db8a1.png" width="1809" height="571" class="img_ev3q"></p><blockquote><p>By default, locked commands are hidden. Check the &quot;Locked elements&quot; box to list all commands.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-command">Adding a command<a href="#adding-a-command" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ol><li>Go to the <strong>Configuration &gt; Commands</strong> menu</li><li>Click on <strong>Add</strong></li></ol><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/pr-2515/assets/images/04command-bc491d2b335a9186d768e5d82688ba5b.png" width="1974" height="1278" class="img_ev3q"></p><blockquote><p>The configuration fields of a command are the same regardless of the type of command chosen.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-fields">Configuration fields<a href="#configuration-fields" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><ul><li>The <strong>command Name</strong> field defined the name of the command.</li><li>The <strong>Command Type</strong> field allows us to choose the type of command.</li><li>The <strong>Command Line</strong> field indicates the application or the script use with the command.</li><li>The <strong>Enable shell</strong> box allows us to enable functions that are specific to a shell such as the pipe, etc.</li><li>The <strong>Argument Example</strong> field define examples of arguments (each argument starts with a ”!”)</li><li>The <strong>Describe arguments</strong> button serves to add  a description to arguments of the “$ARGn$” type. This description
will be visible when using the command in a host or service form.</li><li>The <strong>Clear arguments</strong> button deletes the description of arguments defined</li><li>The <strong>Describe macros</strong> button serves to add  a description to all macros. This description will be visible when
using the command in a host or service form.</li><li>The <strong>Connectors</strong> selectlist serves to link a Connector to the command. For more information on Connectors refer to the
chapter entitled <em><a href="#perl-connector">Perl Connector</a></em> and <em><a href="#ssh-connector">SSH Connector</a></em>.</li><li>The <strong>Graph template</strong> field serves to link the command to a graphic model.</li><li>The <strong>Comment</strong> field can be used to make a comment on the command.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-and-macros">Arguments and macros<a href="#arguments-and-macros" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>In the <strong>Command Line</strong> field it is possible to use <em><a href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/macros/">macros</a></em> and arguments.</p><p>The macros are used to be able to pass various settings to the scripts called up by the commands. During execution
of the command by the scheduler, each of the arguments and macros are replaced by their respective values.
Each macro appears in the form <strong>$value$</strong>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$CENTREONPLUGINS</span><span class="token plain">$/centreon_linux_snmp.pl </span><span class="token parameter variable" style="color:#36acaa">--plugin</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">os::linux::snmp::plugin </span><span class="token parameter variable" style="color:#36acaa">--mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">cpu </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--hostname</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$HOSTADDRESS</span><span class="token plain">$ --snmp-version</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$_HOSTSNMPVERSION$&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--snmp-community</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$_HOSTSNMPCOMMUNITY$&#x27;</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$_HOSTSNMPEXTRAOPTIONS</span><span class="token plain">$ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--warning-average</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$_SERVICEWARNING$&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--critical-average</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$_SERVICECRITICAL$&#x27;</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$_SERVICEEXTRAOPTIONS</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Good practice requires replacing the arguments by <em><a href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/macros/#custom-macros">custom macros</a></em>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connectors">Connectors<a href="#connectors" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssh-connector">SSH connector<a href="#ssh-connector" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Centreon SSH Connector is a free software from Centreon available under the Apache Software License version 2 (ASL 2.0).
It speeds up execution checks over SSH when used along Centreon Engine.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Centreon recommends using its official packages. Most of Centreon’ endorsed software are available as RPM packages.</p><p>Run the following commands as privileged user:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-connector-ssh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or you can build the Centreon SSH Connector. You will need the following external dependencies:</p><ul><li>a C++ compilation environment.</li><li>CMake <strong>(&gt;= 2.8)</strong>, a cross-platform build system.</li><li>Centreon Clib, The centreon Core library.</li><li>ssh2 library to use ssh functions.</li><li>gcrypt library to secure connections.</li></ul><p>This program is compatible only with Unix-like platforms (Linux, FreeBSD, Solaris, ...).</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">CentOS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Debian/Ubuntu</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">OpenSUSE</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>In CentOS you need to add manually cmake. After that you can install binary packages. Either use the Package Manager or
the yum tool to install them. You should check packages version when necessary.</p><p>Package required to build:</p><table><thead><tr><th>Software</th><th>Package Name</th><th>Description</th></tr></thead><tbody><tr><td>C++ compilation environment</td><td>gcc gcc-c++ make</td><td>Mandatory tools to compile.</td></tr><tr><td>CMake <strong>(<!-- -->&gt;<!-- -->= 2.8)</strong></td><td>cmake</td><td>Read the build script and prepare sources for compilation.</td></tr><tr><td>Centreon Clib (<!-- -->&gt;<!-- -->= 1.0)</td><td>centreon-clib-devel</td><td>Core library used by Centreon Connector.</td></tr><tr><td>ssh2 library</td><td>libssh2-devel</td><td>SSH library.</td></tr><tr><td>gcrypt library</td><td>libgcrypt-devel</td><td>Gcrypt library.</td></tr></tbody></table><ol><li>Install basic compilation tools</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gcc gcc-c++ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> libssh2-devel libgcrypt-devel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install cmake</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> cmake</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Install Centreon Clib</li></ol><p>See the Centreon Clib @TODO@:ref:<code>documentation &lt;centreon-clib:centreon_clib_install&gt;</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>In recent Debian/Ubuntu versions, necessary software is available as binary packages from distribution repositories.
Either use the Package Manager or the apt-get tool to install them. You should check packages version when necessary.</p><p>Package required to build:</p><table><thead><tr><th>Software</th><th>Package Name</th><th>Description</th></tr></thead><tbody><tr><td>C++ compilation environment</td><td>build-essential</td><td>Mandatory tools to compile.</td></tr><tr><td>CMake <strong>(<!-- -->&gt;<!-- -->= 2.8)</strong></td><td>cmake</td><td>Read the build script and prepare sources for compilation.</td></tr><tr><td>Centreon Clib (<!-- -->&gt;<!-- -->= 1.0)</td><td>centreon-clib-devel</td><td>Core library used by Centreon Connector.</td></tr><tr><td>ssh2 library</td><td>libssh2-1-dev</td><td>SSH library.</td></tr><tr><td>gcrypt library</td><td>libgcrypt11-dev</td><td>Gcrypt library.</td></tr></tbody></table><ol><li>Install compilation tools</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> build-essential cmake libssh2-1-dev libgcrypt11-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install Centreon Clib</li></ol><p>See the Centreon Clib @TODO@:ref:<code>documentation &lt;centreon-clib:centreon_clib_install&gt;</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>In recent OpenSUSE versions, necessary software is available as binary packages from OpenSUSE repositories. Either use
the Package Manager or the zypper tool to install them. You should check packages version when necessary.</p><p>Package required to build:</p><table><thead><tr><th>Software</th><th>Package Name</th><th>Description</th></tr></thead><tbody><tr><td>C++ compilation environment</td><td>gcc gcc-c++ make</td><td>Mandatory tools to compile.</td></tr><tr><td>CMake <strong>(<!-- -->&gt;<!-- -->= 2.8)</strong></td><td>cmake</td><td>Read the build script and prepare sources for compilation.</td></tr><tr><td>Centreon Clib (<!-- -->&gt;<!-- -->= 1.0)</td><td>centreon-clib-devel</td><td>Core library used by Centreon Connector.</td></tr><tr><td>ssh2 library</td><td>libssh2-devel</td><td>SSH library.</td></tr><tr><td>gcrypt library</td><td>libgcrypt-devel</td><td>Gcrypt library.</td></tr></tbody></table><ol><li>Install compilation tools</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gcc gcc-c++ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> cmake libssh2-devel libgcrypt-devel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install Centreon Clib</li></ol><p>See the Centreon Clib @TODO@:ref:<code>documentation &lt;centreon-clib:centreon_clib_install&gt;</code>.</p></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="build">Build<a href="#build" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><h6 class="anchor anchorWithStickyNavbar_LWe7" id="get-sources">Get sources<a href="#get-sources" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>Centreon SSH Connector can be checked out from <em><a href="https://github.com/centreon/centreon-connectors" target="_blank" rel="noopener noreferrer">GitHub</a></em>.
The SSH connector sources reside in the ssh subdirectory. On a Linux box with git installed this is just a matter of:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/centreon/centreon-connectors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>At the root of the project directory you&#x27;ll find a ssh/build directory which holds build scripts. Generate the Makefile
by running the following command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /path_to_centreon_connector/ssh/build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your Centreon SSH Connector can be tweaked to your particular needs using CMake&#x27;s variable system. Variables can be set
like this:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake -D</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">variable</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-D</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">variable</span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here&#x27;s the list of variables available and their description:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td>WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->INCLUDE<!-- -->_<!-- -->DIR</td><td>Set the directory path of centreon-clib include.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->LIBRARIES</td><td>Set the centreon-clib library to use.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->LIBRARY<!-- -->_<!-- -->DIR</td><td>Set the centreon-clib library directory (don&#x27;t use it if you use WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->LIBRARIES)</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->KNOWN<!-- -->_<!-- -->HOSTS<!-- -->_<!-- -->CHECK</td><td>Enable or disable Check hosts against user&#x27;s known<!-- -->_<!-- -->hosts file.</td><td>OFF</td></tr><tr><td>WITH<!-- -->_<!-- -->LIBGCRYPT<!-- -->_<!-- -->INCLUDE<!-- -->_<!-- -->DIR</td><td>Set the directory path of libgcrypt include.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->LIBGCRYPT<!-- -->_<!-- -->LIBRARIES</td><td>Set the libgcrypt library to use.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->LIBGCRYPT<!-- -->_<!-- -->LIBRARY<!-- -->_<!-- -->DIR</td><td>Set the libgcrypt library directory (don&#x27;t use it if you use WITH<!-- -->_<!-- -->LIBGCRYPT<!-- -->_<!-- -->LIBRARIES)</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->LIBSSH2<!-- -->_<!-- -->INCLUDE<!-- -->_<!-- -->DIR</td><td>Set the directory path of libssh2 include.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->LIBSSH2<!-- -->_<!-- -->LIBRARIES</td><td>Set the libssh2 library to use.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->LIBSSH2<!-- -->_<!-- -->LIBRARY<!-- -->_<!-- -->DIR</td><td>Set the libssh2 library directory (don&#x27;t use it if you use WITH<!-- -->_<!-- -->LIBSSH2<!-- -->_<!-- -->LIBRARIES)</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->PREFIX</td><td>Base directory for Centreon SSH Connector installation. If other prefixes are expressed as relative paths, they are relative to this path.</td><td><code>/usr/local</code></td></tr><tr><td>WITH<!-- -->_<!-- -->PREFIX<!-- -->_<!-- -->BINARY</td><td>Define specific directory for Centreon Connector SSH binary.</td><td><code>${WITH_PREFIX}/bin</code></td></tr><tr><td>WITH<!-- -->_<!-- -->TESTING</td><td>Enable generation of unit tests. They can later be run by typing <em>make test</em>. OFF</td><td></td></tr></tbody></table><p>Example</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-DWITH_PREFIX</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-DWITH_PREFIX_BINARY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/lib/centreon-connector </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-DWITH_TESTING</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this step, the software will check for existence and usability of the rerequisites. If one cannot be found, an
appropriate error message will be printed. Otherwise an installation summary will be printed.</p><blockquote><p>If you need to change the options you used to compile your software, you might want to remove the <em>CMakeCache.txt</em>
file that is in the <em>build</em> directory. This will remove cache entries that might have been computed during the last
configuration step.</p></blockquote><h6 class="anchor anchorWithStickyNavbar_LWe7" id="compilation">Compilation<a href="#compilation" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>Once properly configured, the compilation process is really simple:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And wait until compilation completes.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="install">Install<a href="#install" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>Once compiled, the following command must be run as privileged user to finish installation:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">make</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And wait for its completion.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-1">Configuration<a href="#configuration-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Centreon SSH Connector itself does not require any configuration. It
should only be configured as a connector of Centreon Engine.</p><p>To execute SSH check over SSH with Centreon SSH Connector from Centreon
Engine, one might configure commands that relates to SSH check
(like check_by_ssh).</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="binary-arguments">Binary arguments<a href="#binary-arguments" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>Here are the supported arguments for <code>centreon_connector_ssh</code>:</p><table><thead><tr><th>Short name</th><th>Long name</th><th>Description</th></tr></thead><tbody><tr><td>-d</td><td>--debug</td><td>If this flag is specified, print all logs messages.</td></tr><tr><td>-h</td><td>--help</td><td>Print help and exit.</td></tr><tr><td>-v</td><td>--version</td><td>Print software version and exit.</td></tr><tr><td>-l</td><td>--log-file</td><td>Specifies the log file (default: stderr).</td></tr><tr><td>-2</td><td>--proto2</td><td>Tell ssh to use Protocol 2.</td></tr><tr><td>-4</td><td>--use-ipv4</td><td>Enable IPv4 connection.</td></tr><tr><td>-6</td><td>--use-ipv6</td><td>Enable IPv6 connection.</td></tr><tr><td>-a</td><td>--authentication</td><td>Authentication password.</td></tr><tr><td>-C</td><td>--command</td><td>Command to execute on the remote machine.</td></tr><tr><td>-E</td><td>--skip-stderr</td><td>Ignore all or first n lines on STDERR.</td></tr><tr><td>-H</td><td>--hostname</td><td>Host name, IP Address.</td></tr><tr><td>-i</td><td>--identity</td><td>Identity of an authorized key.</td></tr><tr><td>-l</td><td>--logname</td><td>SSH user name on remote host.</td></tr><tr><td>-p</td><td>--port</td><td>Port number (default: 22)</td></tr><tr><td>-S</td><td>--skip-stdout</td><td>Ignore all or first n lines on STDOUT.</td></tr><tr><td>-t</td><td>--timeout</td><td>Seconds before connection times out (default: 10).</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="check-arguments">Check arguments<a href="#check-arguments" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>These arguments are checks options (like check_by_ssh options).</p><table><thead><tr><th>Short name</th><th>Long name</th><th>Description</th></tr></thead><tbody><tr><td>-<!-- -->1</td><td>-<!-- -->-proto1</td><td>This option is not supported.</td></tr><tr><td>-<!-- -->2</td><td>-<!-- -->-proto2</td><td>Tell ssh to use Protocol 2.</td></tr><tr><td>-<!-- -->4</td><td>-<!-- -->-use-ipv4</td><td>Enable IPv4 connection.</td></tr><tr><td>-<!-- -->6</td><td>-<!-- -->-use-ipv6</td><td>Enable IPv6 connection.</td></tr><tr><td>-<!-- -->a</td><td>-<!-- -->-authentication</td><td>Authentication password.</td></tr><tr><td>-<!-- -->C</td><td>-<!-- -->-command</td><td>Command to execute on the remote machine.</td></tr><tr><td>-<!-- -->E</td><td>-<!-- -->-skip-stderr</td><td>Ignore all or first n lines on STDERR.</td></tr><tr><td>-<!-- -->f</td><td>-<!-- -->-fork</td><td>This option is not supported.</td></tr><tr><td>-<!-- -->h</td><td>-<!-- -->-help</td><td>Not used.</td></tr><tr><td>-<!-- -->H</td><td>-<!-- -->-hostname</td><td>Host name, IP Address.</td></tr><tr><td>-<!-- -->i</td><td>-<!-- -->-identity</td><td>Identity of an authorized key.</td></tr><tr><td>-<!-- -->l</td><td>-<!-- -->-logname</td><td>SSH user name on remote host.</td></tr><tr><td>-<!-- -->n</td><td>-<!-- -->-name</td><td>This option is not supported.</td></tr><tr><td>-<!-- -->o</td><td>-<!-- -->-ssh-option</td><td>This option is not supported.</td></tr><tr><td>-<!-- -->O</td><td>-<!-- -->-output</td><td>This option is not supported.</td></tr><tr><td>-<!-- -->p</td><td>-<!-- -->-port</td><td>Port number (default 22).</td></tr><tr><td>-<!-- -->q</td><td>-<!-- -->-quiet</td><td>Not used.</td></tr><tr><td>-<!-- -->s</td><td>-<!-- -->-services</td><td>This option is not supported.</td></tr><tr><td>-<!-- -->S</td><td>-<!-- -->-skip-stdout</td><td>Ignore all or first n lines on STDOUT.</td></tr><tr><td>-<!-- -->t</td><td>-<!-- -->-timeout</td><td>Seconds before connection times out (default 10).</td></tr><tr><td>-<!-- -->v</td><td>-<!-- -->-verbose</td><td>Not used.</td></tr><tr><td>-<!-- -->V</td><td>-<!-- -->-version</td><td>Not used.</td></tr></tbody></table><p>Example:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">define connector</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector_name centreon_connector_ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector_line /usr/lib64/centreon-connector/centreon_connector_ssh --log-file</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/log/centreon-engine/centreon-connector-ssh.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define command</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_name ssh_check_cpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_line </span><span class="token variable" style="color:#36acaa">$USER1</span><span class="token plain">$/check_by_ssh </span><span class="token parameter variable" style="color:#36acaa">-H</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$HOSTADDRESS</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-l</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$_HOSTUSER</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-a</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$_HOSTPASSWORD</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-C</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$USER1</span><span class="token string" style="color:#e3116c">$/check_cpu -w </span><span class="token string variable" style="color:#36acaa">$ARG1</span><span class="token string" style="color:#e3116c">$ -c </span><span class="token string variable" style="color:#36acaa">$ARG2</span><span class="token string" style="color:#e3116c">$&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector centreon_connector_ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define command</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_name ssh_check_disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_line </span><span class="token variable" style="color:#36acaa">$USER1</span><span class="token plain">$/check_by_ssh </span><span class="token parameter variable" style="color:#36acaa">-H</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$HOSTADDRESS</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-l</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$_HOSTUSER</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-a</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$_HOSTPASSWORD</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-C</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$USER1</span><span class="token string" style="color:#e3116c">$/check_disk -D </span><span class="token string variable" style="color:#36acaa">$ARG1</span><span class="token string" style="color:#e3116c">$ -w </span><span class="token string variable" style="color:#36acaa">$ARG2</span><span class="token string" style="color:#e3116c">$ -c </span><span class="token string variable" style="color:#36acaa">$ARG3</span><span class="token string" style="color:#e3116c">$&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector centreon_connector_ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical details<a href="#technical-details" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>This article describes how Centreon SSH Connector allow much gain on SSH check execution.</p><p>One major CPU-intensive and long operation in a SSH environment is the key exchange and verification mechanism. This
operation occurs when a SSH session is started between two hosts. After this step all exchange operations are using far
less resources.</p><p>Centreon SSH Connector take advantage of this fact and maintain semi-permanent connection with hosts to which it had to
connect to. This way if multiple checks are performed on the same host, where &quot;check_by_ssh&quot; opens one session for each
check, Centreon Connector SSH only opens one session. However this does not limit the number of concurrent checks on a
host, as the SSH protocol allows multiple channels to be opened on the same session. Therefore if multiple checks are
run on the same host simultaneously, they are executed concurrently but with separate execution environment.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="perl-connector">Perl connector<a href="#perl-connector" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Centreon Perl Connector is a free software from Centreon available under the Apache Software License version 2 (ASL 2.0).
It speeds up execution of Perl scripts when used along Centreon Engine.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installation-1">Installation<a href="#installation-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Centreon recommends using its official packages. Most of Centreon’ endorsed software are available as RPM packages.</p><p>Run the following commands as privileged user:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-connector-perl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or you can build the Centreon SSH Connector. You will need the following external dependencies:</p><ul><li>a C++ compilation environment.</li><li>CMake <strong>(&gt;= 2.8)</strong>, a cross-platform build system.</li><li>Centreon Clib, The centreon Core library.</li><li>ssh2 library to use ssh functions.</li><li>gcrypt library to secure connections.</li></ul><p>This program is compatible only with Unix-like platforms (Linux, FreeBSD, Solaris, ...).</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a href="#prerequisites-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">CentOS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Debian/Ubuntu</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">OpenSUSE</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>In CentOS you need to add manually cmake. After that you can install binary packages. Either use the Package Manager or
the yum tool to install them. You should check packages version when necessary.</p><p>Package required to build:</p><table><thead><tr><th>Software</th><th>Package Name</th><th>Description</th></tr></thead><tbody><tr><td>C++ compilation environment</td><td>gcc gcc-c++ make</td><td>Mandatory tools to compile.</td></tr><tr><td>CMake <strong>(<!-- -->&gt;<!-- -->= 2.8)</strong></td><td>cmake</td><td>Read the build script and prepare sources for compilation.</td></tr><tr><td>Centreon Clib (<!-- -->&gt;<!-- -->= 1.0)</td><td>centreon-clib-devel</td><td>Core library used by Centreon Connector.</td></tr><tr><td>Perl</td><td>perl</td><td>Scripting language.</td></tr></tbody></table><ol><li>Install basic compilation tools</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gcc gcc-c++ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> perl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install cmake</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> cmake</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Install Centreon Clib</li></ol><p>See the Centreon Clib @TODO@:ref:<code>documentation &lt;centreon-clib:centreon_clib_install&gt;</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>In recent Debian/Ubuntu versions, necessary software is available as binary packages from distribution repositories.
Either use the Package Manager or the apt-get tool to install them. You should check packages version when necessary.</p><p>Package required to build:</p><table><thead><tr><th>Software</th><th>Package Name</th><th>Description</th></tr></thead><tbody><tr><td>C++ compilation environment</td><td>build-essential</td><td>Mandatory tools to compile.</td></tr><tr><td>CMake <strong>(<!-- -->&gt;<!-- -->= 2.8)</strong></td><td>cmake</td><td>Read the build script and prepare sources for compilation.</td></tr><tr><td>Centreon Clib (<!-- -->&gt;<!-- -->= 1.0)</td><td>centreon-clib-devel</td><td>Core library used by Centreon Connector.</td></tr><tr><td>Perl</td><td>libperl-dev</td><td>Scripting language.</td></tr></tbody></table><ol><li>Install compilation tools</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> build-essential cmake libperl-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install Centreon Clib</li></ol><p>See the Centreon Clib @TODO@:ref:<code>documentation &lt;centreon-clib:centreon_clib_install&gt;</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>In recent OpenSUSE versions, necessary software is available as binary packages from OpenSUSE repositories. Either use
the Package Manager or the zypper tool to install them. You should check packages version when necessary.</p><p>Package required to build:</p><table><thead><tr><th>Software</th><th>Package Name</th><th>Description</th></tr></thead><tbody><tr><td>C++ compilation environment</td><td>gcc gcc-c++ make</td><td>Mandatory tools to compile.</td></tr><tr><td>CMake <strong>(<!-- -->&gt;<!-- -->= 2.8)</strong></td><td>cmake</td><td>Read the build script and prepare sources for compilation.</td></tr><tr><td>Centreon Clib (<!-- -->&gt;<!-- -->= 1.0)</td><td>centreon-clib-devel</td><td>Core library used by Centreon Connector.</td></tr><tr><td>Perl</td><td>perl</td><td>Scripting language.</td></tr></tbody></table><ol><li>Install compilation tools</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gcc gcc-c++ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> cmake perl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install Centreon Clib</li></ol><p>See the Centreon Clib @TODO@:ref:<code>documentation &lt;centreon-clib:centreon_clib_install&gt;</code>.</p></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="build-1">Build<a href="#build-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><h6 class="anchor anchorWithStickyNavbar_LWe7" id="get-sources-1">Get sources<a href="#get-sources-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>Centreon Perl Connector can be checked out from <a href="https://github.com/centreon/centreon-connectors" target="_blank" rel="noopener noreferrer">GitHub</a>.
The Perl connector sources reside in the perl subdirectory. On a Linux box with git installed this is just a matter of:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/centreon/centreon-connectors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-2">Configuration<a href="#configuration-2" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>At the root of the project directory you&#x27;ll find a perl/build directory which holds build scripts. Generate the Makefile
by running the following command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /path_to_centreon_connector/perl/build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your Centreon Perl Connector can be tweaked to your particular needs using CMake&#x27;s variable system. Variables can be set
like this:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake -D</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">variable</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-D</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">variable</span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">value</span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here&#x27;s the list of variables available and their description:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td>WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->INCLUDE<!-- -->_<!-- -->DIR</td><td>Set the directory path of centreon-clib include.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->LIBRARIES</td><td>Set the centreon-clib library to use.</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->LIBRARY<!-- -->_<!-- -->DIR</td><td>Set the centreon-clib library directory (don&#x27;t use it if you use WITH<!-- -->_<!-- -->CENTREON<!-- -->_<!-- -->CLIB<!-- -->_<!-- -->LIBRARIES)</td><td>auto detection</td></tr><tr><td>WITH<!-- -->_<!-- -->PREFIX</td><td>Base directory for Centreon PErl Connector installation. If other prefixes are expressed as relative paths, they are relative to this path.</td><td><code>/usr/local</code></td></tr><tr><td>WITH<!-- -->_<!-- -->PREFIX<!-- -->_<!-- -->BINARY</td><td>Define specific directory for Centreon Connector Perl binary.</td><td><code>${WITH_PREFIX}/bin</code></td></tr><tr><td>WITH<!-- -->_<!-- -->TESTING</td><td>Enable generation of unit tests. They can later be run by typing <em>make test</em>.</td><td>OFF</td></tr></tbody></table><p>Example</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-DWITH_PREFIX</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-DWITH_PREFIX_BINARY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/lib/centreon-connector </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-DWITH_TESTING</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this step, the software will check for existence and usability of the rerequisites. If one cannot be found, an
appropriate error message will be printed. Otherwise an installation summary will be printed.</p><blockquote><p>If you need to change the options you used to compile your software, you might want to remove the <em>CMakeCache.txt</em>
file that is in the <em>build</em> directory. This will remove cache entries that might have been computed during the last
configuration step.</p></blockquote><h6 class="anchor anchorWithStickyNavbar_LWe7" id="compilation-1">Compilation<a href="#compilation-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>Once properly configured, the compilation process is really simple:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And wait until compilation completes.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="install-1">Install<a href="#install-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h6><p>Once compiled, the following command must be run as privileged user to finish installation:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">make</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And wait for its completion.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-3">Configuration<a href="#configuration-3" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Centreon Perl Connector itself does not require any configuration. It should only be configured as a connector of
Centreon Engine.</p><p>To execute Perl scripts with Centreon Perl Connector from Centreon Engine, one might configure commands that relates to
Perl scripts. Such commands must only contain the path to the Perl script to execute followed by its arguments, just
like one would on the command line. To make it simple, you just have to add a connector property to your command
definition.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="binary-arguments-1">Binary arguments<a href="#binary-arguments-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>Here are the supported arguments for <code>centreon_connector_perl</code>:</p><table><thead><tr><th>Short name</th><th>Long name</th><th>Description</th></tr></thead><tbody><tr><td>-<!-- -->d</td><td>-<!-- -->-debug</td><td>If this flag is specified, print all logs messages.</td></tr><tr><td>-<!-- -->h</td><td>-<!-- -->-help</td><td>Print help and exit.</td></tr><tr><td>-<!-- -->v</td><td>-<!-- -->-version</td><td>Print software version and exit.</td></tr><tr><td>-<!-- -->c</td><td>-<!-- -->-code</td><td>Argument is some Perl code that will be executed by the embedded interpreter.</td></tr><tr><td>-<!-- -->l</td><td>-<!-- -->-log-file</td><td>Specifies the log file (default: stderr).</td></tr></tbody></table><p>Example:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">define connector</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector_name centreon_connector_perl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector_line /usr/lib64/centreon-connector/centreon_connector_perl --log-file</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/log/centreon-engine/centreon-connector-perl.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define command</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_name check_ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_line </span><span class="token variable" style="color:#36acaa">$USER1</span><span class="token plain">$/check_ping.pl </span><span class="token parameter variable" style="color:#36acaa">-H</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$HOSTADDRESS</span><span class="token plain">$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector centreon_connector_perl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">define command</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_name check_disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command_line </span><span class="token variable" style="color:#36acaa">$USER1</span><span class="token plain">$/check_disk.pl </span><span class="token parameter variable" style="color:#36acaa">-H</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$HOSTADDRESS</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-D</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$ARG1</span><span class="token plain">$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connector centreon_connector_perl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details-1">Technical details<a href="#technical-details-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h5><p>This article describes how Centreon Perl Connector allow much gain on Perl script execution.</p><p>First of all let&#x27;s examine how a Perl script is executed traditionnally by Centreon Engine.</p><ul><li>Centreon Engine forks, creating a new separate process.</li><li>This new process executes the execve syscall to run the Perl interpreter. This step does not create a new process.</li><li>The Perl interpreter parse the Perl script.</li><li>Perl script get executed.</li></ul><p>With Centreon Engine, the same script get executed multiple times but with different arguments. Therefore we took
advantage of this fact to efficiently parse all the scripts once and get them executed. This was only possible because
of the fork()ing system of Unix-like platform. If you read the reference page on Wikipedia you indeed remarked that
once fork()ed the old and the new process are identical. Centreon Connector Perl&#x27;s steps to execute scripts are as
follow.</p><ul><li>Centreon Engine creates a resident process of Centreon Connector Perl once</li><li>For all Perl scripts execution requests are forwarded to this process when requested to execute a script, Centreon
Perl Connector checks if this script has already been parsed if not it parses it using the Embedded Perl interpreter.</li><li>Centreon Perl Connector forks itself.</li><li>The precompiled script gets executed</li></ul><p>This way Perl scripts are only parsed once during the lifetime of the monitoring engine. This heavily relates to
<em><a href="http://en.wikipedia.org/wiki/Prepared_statements" target="_blank" rel="noopener noreferrer">prepared statements</a></em> in SQL.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/centreon/centreon-documentation/edit/staging/versioned_docs/version-22.04/monitoring/basic-objects/commands.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col"><svg id="feedback" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve" fill="none" style="height:24px;width:24px;vertical-align:text-top;margin-right:4px"><rect y="0" class="st0" width="24" height="24"></rect><rect x="2" y="2" class="st0" width="20" height="20"></rect><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M16.14,9.08c0,3.09-2.76,5.6-6.16,5.6c-1.11,0-5.45,0-5.45,0s1.36-1.38,0.93-1.79c-1.02-1-1.64-2.34-1.64-3.81 c0-3.09,2.76-5.6,6.16-5.6S16.14,5.99,16.14,9.08z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" d="M8.61,16.28c0.76,2.31,3.12,4,5.91,4c1.11,0,5.45,0,5.45,0s-1.36-1.38-0.93-1.79c1.02-1,1.64-2.34,1.64-3.81 c0-2-1.15-3.75-2.88-4.74"></path><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="6.86" x2="13.55" y2="6.86"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="8.74" x2="13.55" y2="8.74"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="10.62" x2="13.55" y2="10.62"></line></svg><a rel="noreferrer noopener" href="https://docs.google.com/forms/d/e/1FAIpQLSdeKkEHWbxn4ZweR1M4OEMzP_QoqKmjl6t4iC_yKeX2CFjzAw/viewform?usp=pp_url&amp;entry.371845164=docs.centreon.com/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/commands/" target="_blank">Give feedback on this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-07-31T16:00:18.000Z">Jul 31, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/basic-objects/macros/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Macros</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/centreon-documentation/pr-preview/pr-2515/docs/22.04/monitoring/generic-actions/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Generic actions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#definition" class="table-of-contents__link toc-highlight">Definition</a></li><li><a href="#adding-a-command" class="table-of-contents__link toc-highlight">Adding a command</a></li><li><a href="#configuration-fields" class="table-of-contents__link toc-highlight">Configuration fields</a></li><li><a href="#arguments-and-macros" class="table-of-contents__link toc-highlight">Arguments and macros</a></li><li><a href="#connectors" class="table-of-contents__link toc-highlight">Connectors</a><ul><li><a href="#ssh-connector" class="table-of-contents__link toc-highlight">SSH connector</a></li><li><a href="#perl-connector" class="table-of-contents__link toc-highlight">Perl connector</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Corporate Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://download.centreon.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/centreon-documentation/pr-preview/pr-2515/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/centreon-documentation/pr-preview/pr-2515/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2005 - 2023 Centreon</div></div></div></footer></div>
<script src="/centreon-documentation/pr-preview/pr-2515/assets/js/runtime~main.74d501a4.js"></script>
<script src="/centreon-documentation/pr-preview/pr-2515/assets/js/main.82ba8dd0.js"></script>
</body>
</html>
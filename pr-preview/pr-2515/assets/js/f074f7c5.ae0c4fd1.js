"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[60166],{584535:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>p,metadata:()=>u,toc:()=>m});n(667294);var a=n(603905),r=n(451715),o=n(907626);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const p={id:"applications-monitoring-iplabel-newtest-restapi",title:"IP-Label Newtest Rest API"},c=void 0,u={unversionedId:"integrations/plugin-packs/procedures/applications-monitoring-iplabel-newtest-restapi",id:"integrations/plugin-packs/procedures/applications-monitoring-iplabel-newtest-restapi",title:"IP-Label Newtest Rest API",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/applications-monitoring-iplabel-newtest-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-monitoring-iplabel-newtest-restapi",permalink:"/pp/integrations/plugin-packs/procedures/applications-monitoring-iplabel-newtest-restapi",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/pp/integrations/plugin-packs/procedures/applications-monitoring-iplabel-newtest-restapi.md",tags:[],version:"current",frontMatter:{id:"applications-monitoring-iplabel-newtest-restapi",title:"IP-Label Newtest Rest API"},sidebar:"pp",previous:{title:"IP-Label Ekara Rest API",permalink:"/pp/integrations/plugin-packs/procedures/applications-monitoring-iplabel-ekara-restapi"},next:{title:"JBoss Server",permalink:"/pp/integrations/plugin-packs/procedures/applications-jboss-jmx"}},d={},m=[{value:"Overview",id:"overview",level:2},{value:"Monitoring Connector Assets",id:"monitoring-connector-assets",level:2},{value:"Monitored Objects",id:"monitored-objects",level:3},{value:"Monitored Metrics",id:"monitored-metrics",level:2},{value:"Prerequisistes",id:"prerequisistes",level:2},{value:"IP-Label Newtest Configuration",id:"ip-label-newtest-configuration",level:3},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How to test the Plugin and what are the main options for ?",id:"how-to-test-the-plugin-and-what-are-the-main-options-for-",level:3},{value:"Why do I get the following error:",id:"why-do-i-get-the-following-error",level:3},{value:"<code>UNKNOWN: 500 Can&#39;t connect to the.newtest.fqdn:443</code>",id:"unknown-500-cant-connect-to-thenewtestfqdn443",level:4},{value:"<code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"unknown-501-protocol-scheme-connect-is-not-supported-",level:4}],g={toc:m},k="wrapper";function h(e){var{components:t}=e,n=s(e,["components"]);return(0,a.kt)(k,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},g,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"IP-Label is a specialist in measurement of the quality of the user\u2019s experience. "),(0,a.kt)("p",null,"At representative points within your company, each Newtest Robot regularly simulates\nbusiness transactions, providing instant insight into the availability, response times\nand performance of your critical application services."),(0,a.kt)("h2",{id:"monitoring-connector-assets"},"Monitoring Connector Assets"),(0,a.kt)("h3",{id:"monitored-objects"},"Monitored Objects"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Newtest Robots")),(0,a.kt)("h2",{id:"monitored-metrics"},"Monitored Metrics"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Scenario",label:"Scenario",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"scenario.status.green.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Green scenario percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"scenario.status.red.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Red scenario percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"scenario.status.orange.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Orange scenario percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"scenario.status.grey.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Grey scenario percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"scenario.execution.time.milliseconds"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Scenario exeecution time"),(0,a.kt)("td",{parentName:"tr",align:"left"},"ms")))),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-robot-name")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-scenario-name")," options allow to narrow results to specific measurement."))),(0,a.kt)("h2",{id:"prerequisistes"},"Prerequisistes"),(0,a.kt)("h3",{id:"ip-label-newtest-configuration"},"IP-Label Newtest Configuration"),(0,a.kt)("p",null,"A read-only account (login/password) to the Newtest RestAPI is required. "),(0,a.kt)("p",null,"The default URL path queried by the Plugin is '/rest/api/results'. This path can be changed in the related Host Macro\nif necessary."),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon package on every poller expected to monitor IP-Label Newtest instances:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Applications-Monitoring-Iplabel-Newtest-Restapi\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the monitoring templates from the Centreon Monitoring Connector on the\n",(0,a.kt)("strong",{parentName:"li"},"Configuration > Monitoring Connectors Manager")," page"))),(0,a.kt)(o.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon package on every poller expected to monitor IP-Label Newtest instances:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Applications-Monitoring-Iplabel-Newtest-Restapi\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Monitoring Connector RPM on the Centreon Central server:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-pack-applications-monitoring-iplabel-newtest-restapi\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the monitoring templates from the Centreon Monitoring Connector on the ",(0,a.kt)("strong",{parentName:"li"},"Configuration > Monitoring Connectors Manager")," page")))),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Add a new Host into Centreon"),(0,a.kt)("li",{parentName:"ul"},"Apply the ",(0,a.kt)("em",{parentName:"li"},"App-Monitoring-Iplabel-Newtest-Restapi-custom")," Host Template"),(0,a.kt)("li",{parentName:"ul"},"Fill the Macros listed as mandatory below:  ")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Mandatory"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"X"),(0,a.kt)("td",{parentName:"tr",align:"left"},"IPLABELNEWTESTAPIHOSTNAME"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Api URL.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"X"),(0,a.kt)("td",{parentName:"tr",align:"left"},"IPLABELNEWTESTAPIUSERNAME"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Api username")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"X"),(0,a.kt)("td",{parentName:"tr",align:"left"},"IPLABELNEWTESTAPIPASSWORD"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Api password")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"}),(0,a.kt)("td",{parentName:"tr",align:"left"},"IPLABELNEWTESTAPIPROTO"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Protocol to use. Default: 'https'")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"}),(0,a.kt)("td",{parentName:"tr",align:"left"},"IPLABELNEWTESTAPIPORT"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Port to use. Default: ",(0,a.kt)("inlineCode",{parentName:"td"},"443"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"}),(0,a.kt)("td",{parentName:"tr",align:"left"},"IPLABELNEWTESTAPIEXTRAOPTIONS"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Customize it with your own if needed. E.g. proxy: ",(0,a.kt)("inlineCode",{parentName:"td"},"--http-backend=curl --proxyurl='https://proxy.mycompany:3128'"))))),(0,a.kt)("h2",{id:"faq"},"FAQ"),(0,a.kt)("h3",{id:"how-to-test-the-plugin-and-what-are-the-main-options-for-"},"How to test the Plugin and what are the main options for ?"),(0,a.kt)("p",null,"Once the plugin installed, log into your Centreon Poller CLI using the ",(0,a.kt)("em",{parentName:"p"},"centreon-engine")," user account\nand test the Plugin by running the following command: "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins//centreon_monitoring_iplabel_newtest_restapi.pl \\\n--plugin=apps::monitoring::iplabel::newtest::restapi::plugin --mode=scenarios \\\n--hostname='the.newtest.fqdn' --api-username='ro_user' --api-password='strong_psswd' \\\n--port='443' --proto='https' --http-backend=curl --filter-robot-name='^HELSINKI$' \\\n--filter-scenario-name='^Sharepoint$'\n")),(0,a.kt)("p",null,"Expected command output is shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"OK: Robot 'HELSINKI' scenario 'Sharepoint' green status: 100.00 %, red status: 0.00 %, orange status: 0.00 %, grey status: 0.00 %, execution time: 45000 ms\nExtended status information     \nchecking robot 'HELSINKI'\nscenario 'Sharepoint' green status: 100.00 %, red status: 0.00 %, orange status: 0.00 %, grey status: 0.00 %, execution time: 45000 ms\n")),(0,a.kt)("p",null,"The above command checks a specific Newtest Robot at Helsinski (",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-robot-name='^HELSINKI$'"),") and focus on the Sharepoint scenario (",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-scenario-name='^Sharepoint$'"),")."),(0,a.kt)("p",null,"It uses an API account (",(0,a.kt)("inlineCode",{parentName:"p"},"--api-username='ro_user' --api-password='strong_psswd'"),") and the HTTPS protocol to connect to the IP-Label Newtest API\n(",(0,a.kt)("inlineCode",{parentName:"p"},"--proto='https'"),")."),(0,a.kt)("p",null,"The available thresholds as well as all of the options that can be used with this Plugin can be displayed by adding the ",(0,a.kt)("inlineCode",{parentName:"p"},"--help")," parameter to the command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"/usr/lib/centreon/plugins//centreon_monitoring_iplabel_newtest_restapi.pl \\\n        --plugin=apps::monitoring::iplabel::newtest::restapi::plugin \\\n        --mode=scenarios \\\n        --help \n")),(0,a.kt)("h3",{id:"why-do-i-get-the-following-error"},"Why do I get the following error:"),(0,a.kt)("h4",{id:"unknown-500-cant-connect-to-thenewtestfqdn443"},(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 500 Can't connect to the.newtest.fqdn:443")),(0,a.kt)("p",null,"This error message means that the Centreon Plugin couldn't successfully connect to the IP-Label Newtest API.\nCheck that no third party device (such as a firewall) is blocking the request.\nA proxy connection may also be necessary to connect to the API. This can be done by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"--proxyurl")," option in the command."),(0,a.kt)("h4",{id:"unknown-501-protocol-scheme-connect-is-not-supported-"},(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,a.kt)("p",null,"When using a proxy to connect to the IP-Label Newtest, this error message means that the Centreon Plugin library does not support\nthe proxy connection protocol."),(0,a.kt)("p",null,"In order to prevent this issue, use the ",(0,a.kt)("em",{parentName:"p"},"curl")," HTTP backend by adding the following option to the command: ",(0,a.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'"),"."))}h.isMDXComponent=!0}}]);
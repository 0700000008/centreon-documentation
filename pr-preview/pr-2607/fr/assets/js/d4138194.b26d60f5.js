"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[56026],{603905:(e,r,t)=>{t.d(r,{Zo:()=>u,kt:()=>v});var n=t(667294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=n.createContext({}),s=function(e){var r=n.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},u=function(e){var r=s(e.components);return n.createElement(p.Provider,{value:r},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(t),m=a,v=c["".concat(p,".").concat(m)]||c[m]||d[m]||o;return t?n.createElement(v,i(i({ref:r},u),{},{components:t})):n.createElement(v,i({ref:r},u))}));function v(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var p in r)hasOwnProperty.call(r,p)&&(l[p]=r[p]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=t[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},605637:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>p,default:()=>v,frontMatter:()=>l,metadata:()=>s,toc:()=>c});t(667294);var n=t(603905);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e}function i(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const l={id:"upgrade",title:"Monter de version de l'extension"},p=void 0,s={unversionedId:"reporting/upgrade",id:"version-22.04/reporting/upgrade",title:"Monter de version de l'extension",description:"Lors d'une mont\xe9e de version = 18.10.x, vous devez:",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-22.04/reporting/upgrade.md",sourceDirName:"reporting",slug:"/reporting/upgrade",permalink:"/centreon-documentation/pr-preview/pr-2607/fr/docs/22.04/reporting/upgrade",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-22.04/reporting/upgrade.md",tags:[],version:"22.04",lastUpdatedAt:1694533851,formattedLastUpdatedAt:"12 sept. 2023",frontMatter:{id:"upgrade",title:"Monter de version de l'extension"},sidebar:"version-22.04/docs",previous:{title:"Mise \xe0 jour de l'extension",permalink:"/centreon-documentation/pr-preview/pr-2607/fr/docs/22.04/reporting/update"},next:{title:"Migrer l'extension",permalink:"/centreon-documentation/pr-preview/pr-2607/fr/docs/22.04/reporting/migrate"}},u={},c=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Mettre \xe0 jour la cl\xe9 de signature RPM",id:"mettre-\xe0-jour-la-cl\xe9-de-signature-rpm",level:3},{value:"\xc9tape 1 : Mont\xe9e de version du paquet",id:"\xe9tape-1--mont\xe9e-de-version-du-paquet",level:2},{value:"\xc9tape 2 : Mettre \xe0 jour l&#39;interface",id:"\xe9tape-2--mettre-\xe0-jour-linterface",level:2},{value:"\xc9tape 3 : Mettre  \xe0 jour le serveur de reporting",id:"\xe9tape-3--mettre--\xe0-jour-le-serveur-de-reporting",level:2},{value:"Pr\xe9requis de la version Java",id:"pr\xe9requis-de-la-version-java",level:3},{value:"\xc9tape 4 : mise \xe0 jour de MariaDB",id:"\xe9tape-4--mise-\xe0-jour-de-mariadb",level:2}],d={toc:c},m="wrapper";function v(e){var{components:r}=e,t=i(e,["components"]);return(0,n.kt)(m,o(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){a(e,r,t[r])}))}return e}({},d,t),{components:r,mdxType:"MDXLayout"}),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Lors d'une mont\xe9e de version < 18.10.x vers une version >= 18.10.x, vous devez:"),(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"R\xe9cup\xe9rer une nouvelle license via le support Centreon"),(0,n.kt)("li",{parentName:"ul"},"S'assurer que votre serveur de reporting est bas\xe9 sur CentOS 7. Si ce n'est\npas le cas, utiliser la proc\xe9dure de ",(0,n.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/pr-2607/fr/docs/22.04/reporting/migrate"},"migration de votre serveur de\nreporting")))),(0,n.kt)("p",null,"La mont\xe9e de version de Centreon MBI se fait en 4 \xe9tapes :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Mont\xe9e de version du d\xe9p\xf4t RPM"),(0,n.kt)("li",{parentName:"ul"},"Mise \xe0 jour de Centreon MBI server (interface)"),(0,n.kt)("li",{parentName:"ul"},"Mise \xe0 jour du serveur de reporting"),(0,n.kt)("li",{parentName:"ul"},"Mise \xe0 jour de la base MariaDB")),(0,n.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,n.kt)("h3",{id:"mettre-\xe0-jour-la-cl\xe9-de-signature-rpm"},"Mettre \xe0 jour la cl\xe9 de signature RPM"),(0,n.kt)("p",null,"Pour des raisons de s\xe9curit\xe9, les cl\xe9s utilis\xe9es pour signer les RPMs Centreon sont chang\xe9es r\xe9guli\xe8rement. Le dernier changement a eu lieu le 14 octobre 2021. Lorsque vous mettez Centreon \xe0 jour depuis une version plus ancienne, vous devez suivre la ",(0,n.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2607/fr/docs/22.04/security/key-rotation#installation-existante"},"proc\xe9dure de changement de cl\xe9"),", afin de supprimer l'ancienne cl\xe9 et d'installer la nouvelle."),(0,n.kt)("h2",{id:"\xe9tape-1--mont\xe9e-de-version-du-paquet"},"\xc9tape 1 : Mont\xe9e de version du paquet"),(0,n.kt)("p",null,"Lors d'une mont\xe9e de version majeure (ex: 20.10.x \xe0 22.04.x) il faut en premier lieu mettre \xe0 jour\nle d\xe9p\xf4t contenant les paquets. "),(0,n.kt)("p",null,"Vous trouverez ce d\xe9p\xf4t depuis votre compte sur notre ",(0,n.kt)("a",{parentName:"p",href:"https://support.centreon.com/hc/fr/categories/10341239833105-D%C3%A9p%C3%B4ts"},"platefome de support"),"."),(0,n.kt)("h2",{id:"\xe9tape-2--mettre-\xe0-jour-linterface"},"\xc9tape 2 : Mettre \xe0 jour l'interface"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Mettre \xe0 jour le paquet: se connecter sur le serveur Centreon et ex\xe9cuter la commande suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum update centreon-bi-server\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Mettre \xe0 jour l'interface: Se connecter \xe0 l'interface web de Centreon et se rendre dans le menu\n",(0,n.kt)("strong",{parentName:"p"},"Administration > Extension > Manager")," puis cliquer sur le bouton de mise \xe0 jour de l'extension et des widgets."))),(0,n.kt)("h2",{id:"\xe9tape-3--mettre--\xe0-jour-le-serveur-de-reporting"},"\xc9tape 3 : Mettre  \xe0 jour le serveur de reporting"),(0,n.kt)("h3",{id:"pr\xe9requis-de-la-version-java"},"Pr\xe9requis de la version Java"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Assurez-vous qu'une version de Java 17 (ou 18) est install\xe9e avant de commencer la proc\xe9dure.")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Pour v\xe9rifier quelle version de Java est install\xe9e, entrez la commande suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"java -version\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Pour une mise \xe0 jour de Java en version 17 (ou 18), allez sur la ",(0,n.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/downloads/#java17"},"page officielle de t\xe9l\xe9chargement d'Oracle"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si plusieurs versions de Java sont install\xe9es, vous devez activer la bonne version. Affichez les versions install\xe9es avec la commande suivante puis s\xe9lectionnez la version 17 (ou 18) :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"sudo update-alternatives --config java\n")))),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Premi\xe8rement, arr\xeatez le service d'ordonnancement (CBIS):"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop cbis\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Puis mettre \xe0 jour les paquets, en ex\xe9cutant la commande suivante:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum update centreon-bi\\*\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Enfin, red\xe9marrer le service d'ordonnancement:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start cbis\n")))),(0,n.kt)("h2",{id:"\xe9tape-4--mise-\xe0-jour-de-mariadb"},"\xc9tape 4 : mise \xe0 jour de MariaDB"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Arr\xeatez le service ",(0,n.kt)("strong",{parentName:"p"},"cbis")," :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop cbis\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Voir ",(0,n.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/pr-2607/fr/docs/22.04/upgrade/upgrade-mariadb"},"Mettre \xe0 jour MariaDB"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"D\xe9marrez le service ",(0,n.kt)("strong",{parentName:"p"},"cbis")," :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start cbis\n")))))}v.isMDXComponent=!0}}]);
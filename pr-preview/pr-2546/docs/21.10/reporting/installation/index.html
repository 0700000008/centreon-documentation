<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-21.10 plugin-docs plugin-id-default docs-doc-id-reporting/installation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Install Centreon MBI extension | Centreon Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="21.10"><meta data-rh="true" name="docusaurus_tag" content="docs-default-21.10"><meta data-rh="true" name="docsearch:version" content="21.10"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-21.10"><meta data-rh="true" property="og:title" content="Install Centreon MBI extension | Centreon Documentation"><meta data-rh="true" name="description" content="Centreon MBI is a Centreon extension that requires a valid license key. To"><meta data-rh="true" property="og:description" content="Centreon MBI is a Centreon extension that requires a valid license key. To"><link data-rh="true" rel="icon" href="/centreon-documentation/pr-preview/pr-2546/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2546/fr/docs/21.10/reporting/installation/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3WEC6XPLDB-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8418698-13","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BGL69N5GPJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BGL69N5GPJ",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Centreon Documentation" href="/centreon-documentation/pr-preview/pr-2546/opensearch.xml"><link rel="stylesheet" href="/centreon-documentation/pr-preview/pr-2546/assets/css/styles.1ebcbc5a.css">
<link rel="preload" href="/centreon-documentation/pr-preview/pr-2546/assets/js/runtime~main.e3e85345.js" as="script">
<link rel="preload" href="/centreon-documentation/pr-preview/pr-2546/assets/js/main.76ae841c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/centreon-documentation/pr-preview/pr-2546/"><div class="navbar__logo"><img src="/centreon-documentation/pr-preview/pr-2546/img/logo_centreon_dark.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/centreon-documentation/pr-preview/pr-2546/img/logo_centreon.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2546/docs/getting-started/welcome/">Centreon OnPrem</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2546/cloud/getting-started/architecture/">Centreon Cloud</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2546/pp/integrations/plugin-packs/getting-started/introduction/">Monitoring Connectors</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/getting-started/installation-first-steps/">21.10</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2546/docs/reporting/installation/">⭐ 23.04</a></li><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2546/docs/22.10/reporting/installation/">22.10</a></li><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2546/docs/22.04/reporting/installation/">22.04</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/">21.10</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Archived versions</b></li><li><a href="https://archives-docs.centreon.com/21.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">21.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.10/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.10<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs-older.centreon.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Older<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>🇬🇧 English</a><ul class="dropdown__menu"><li><a href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">🇬🇧 English</a></li><li><a href="/centreon-documentation/pr-preview/pr-2546/fr/docs/21.10/reporting/installation/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">🇫🇷 Français</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/getting-started/installation-first-steps/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/installation/introduction/">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/administration/secure-platform/">Secure your platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/monitoring/about/">Monitoring resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/alerts-notifications/concepts/">Managing events and alerts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/metrology/chart-management/">Performance graphs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/service-mapping/introduction/">Service Mapping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/graph-views/introduction/">Graphical views</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/introduction/">Reporting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/introduction/">Introduction to Centreon MBI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/manage-reports/">Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/">Administrate</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/">Install Centreon MBI extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/update/">Update the extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/upgrade/">Upgrade the extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/migrate/">Migrate the extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/backup-restore/">Backup &amp; restore</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/administration/parameters/centreon-ui/">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/update/update-centreon-platform/">Update, Upgrade &amp; Migrate</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/centreon-documentation/pr-preview/pr-2546/pp/integrations/plugin-packs/getting-started/introduction/">Plugin Packs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/integrations/introduction-integrations/">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/mobile/introduction/">Centreon mobile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/developer/about-developer-resources/">Developer resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/health/centreon-agent/">Monitoring your platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/releases/introduction/">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/security/">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/resources/known-issues/">Resources</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 21.10</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Install Centreon MBI extension</h1></header><blockquote><p>Centreon MBI is a Centreon <strong>extension</strong> that requires a valid license key. To
purchase one and retrieve the necessary repositories, contact
<a href="mailto:sales@centreon.com" target="_blank" rel="noopener noreferrer">Centreon</a>.</p></blockquote><p>Four major steps to installing Centreon MBI:</p><ul><li>Check the system prerequisites.</li><li>Install the Centreon MBI interface in the Centreon application (Centreon MBI Server).</li><li>Install the reporting server (Centreon MBI Reporting Server).</li><li>Configure Extract, Transform, Load (ETL) in the Centreon MBI.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>This chapter describes the Centreon MBI architecture and provides an
overview of how the extension is integrated into Centreon monitoring
software.</p><p>The information is addressed to administrators who will be installing or
configuring Centreon MBI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dedicated-reporting-server">Dedicated reporting server<a href="#dedicated-reporting-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>This architecture and prerequisites apply to:</p><ul><li>Test environnements</li><li>Pre-production environments</li><li>Production environments.</li></ul><p>The diagram below shows the main components of Centreon MBI:</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/pr-2546/assets/images/architecture-57c0d086ac05ff41f37ef131fb04d7de.png" width="580" height="363" class="img_ev3q"></p><p><em>The monitoring database can be installed on a server other than the Centreon server.</em></p><ul><li><strong>ETL</strong>: Process that extracts, transforms and loads data into the
reporting database.</li><li><strong>CBIS</strong>: Scheduler that manages job execution and publication.</li><li><strong>Reporting database</strong>: MariaDB database that contains reporting data
and some raw data extracted from the monitoring database.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-flow-table">Network flow table<a href="#network-flow-table" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>The table below presents the different types of flow, by default,
between the dedicated BI server, Centreon server and databases:</p><table><thead><tr><th><strong>Application</strong></th><th><strong>Source</strong></th><th>Destination</th><th>Port</th><th>Protocol</th></tr></thead><tbody><tr><td>ETL/CBIS</td><td>Reporting server</td><td>Centreon Database</td><td>3306</td><td>TCP</td></tr><tr><td>SSH</td><td>Reporting server</td><td>Centreon</td><td>22</td><td>TCP</td></tr><tr><td>CBIS</td><td>Centreon</td><td>Reporting server</td><td>1234</td><td>TCP</td></tr><tr><td>CBIS</td><td>Reporting server</td><td>Centreon</td><td>80</td><td>HTTP<!-- -->*</td></tr><tr><td>Widgets</td><td>Centreon</td><td>Reporting server</td><td>3306</td><td>TCP</td></tr></tbody></table><p>*<em>Only required for Host-Graph-v2 and Hostgroup-Graph-v2 reports that use Centreon API to generate graphs</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="packages-information">Packages information<a href="#packages-information" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Centreon MBI installation requires two RPM packages:</p><ul><li>Centreon-bi-server: Installs the Centreon MBI interface integrated into the
Centreon front end and must reside on the Centreon Web Server.</li><li>Centreon-bi-reporting-server: Contains all the components needed to run the
reporting server -- report scheduler, ETL, standards reports -- and must
reside on a dedicated server for reporting processes.</li></ul><p>You should install the MariaDB database at the same time. We highly recommend
installing the database on the same server for performance &amp; isolation
considerations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="centreon-central-server">Centreon central server<a href="#centreon-central-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p><strong>Software</strong></p><p>See the <a href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/installation/prerequisites/#software">software requirements</a>.</p><ul><li>Centreon 21.10</li><li>Check that the parameter <code>date.timezone</code> is correctly configured in <code>/etc/php.d/php.ini</code>
(same timezone displayed with the command <code>timedatectl status</code>)</li><li>Avoid the usage of the following variables in your monitoring MariaDB configuration.
They halt long queries execution and can stop the ETL or the report generation jobs:<ul><li>wait_timeout</li><li>interactive_timeout</li></ul></li></ul><p><strong>Users and groups</strong></p><table><thead><tr><th>User</th><th>Group</th></tr></thead><tbody><tr><td>centreonBI (new)</td><td>apache, centreon, centreonBI</td></tr><tr><td>apache (existing)</td><td>centreonBI</td></tr></tbody></table><p><strong>Description of users, umask and home directory</strong></p><table><thead><tr><th>User</th><th>umask</th><th>home</th></tr></thead><tbody><tr><td>centreonBI</td><td>0002</td><td>/home/centreonBI</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reporting-dedicated-server">Reporting dedicated server<a href="#reporting-dedicated-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p><strong>Hardware</strong></p><table><thead><tr><th>Monitored services</th><th>CPU</th><th>RAM</th></tr></thead><tbody><tr><td>&lt; 4 000</td><td>2 CPU ( 3Ghz ) minimum</td><td>12GB minimum</td></tr><tr><td>&lt; 20 000</td><td>4 CPU (3GHz) minimum</td><td>16GB minimum</td></tr><tr><td>&gt;= 20 000 and &lt; 40 000</td><td>4 CPU (3GHz) minimum</td><td>24GB minimum</td></tr><tr><td>&gt; 40 000 and &lt; 100 000</td><td>8 CPU (3GHz) minimum</td><td>32GB minimum</td></tr><tr><td>&gt; 100 000</td><td>&gt; Contact Centreon</td><td></td></tr></tbody></table><p><strong>Storage space</strong>: Use the following <a target="_blank" href="/centreon-documentation/pr-preview/pr-2546/assets/files/Centreon-MBI-QuickGuide-Storage-Sizing_EN-45d0eeb05362efed69cc1cad7e374c7b.xlsx/">storage estimation file</a></p><p><strong>File system</strong></p><table><thead><tr><th>File system</th><th>Size</th></tr></thead><tbody><tr><td>/</td><td>5GB minimum</td></tr><tr><td>/var (containing MariaDB data)</td><td>Use the result of the above disk-space simulation file MariaDB data)</td></tr><tr><td>MariaDB temp folder</td><td>We recommend keeping it in /var</td></tr><tr><td>Volume group<!-- -->*</td><td>5GB minimum of free space on the <strong>Volume group</strong> hosting the MariaDB DBMS <strong>data</strong></td></tr></tbody></table><p>To check the free space use the command below, replacing vg<!-- -->_<!-- -->data by the
Volume group name:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vgdisplay vg_data </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">free</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Software</strong></p><ul><li>OS: CentOS / Redhat 7 or 8</li><li>SGBD: MariaDB 10.5</li><li>Firewall: Disabled</li><li>SELinux: Disabled</li></ul><p>We advise to tune your MariaDB database server on your reporting server in
order to have better performance. You will need at least 12GB on your
reporting server to run the configuration file provided below. Add the
<a target="_blank" href="/centreon-documentation/pr-preview/pr-2546/assets/files/centreon-55f8e9461ad0d121a6603b4417c2ea49.cnf/">following file</a> on your
reporting server in /etc/my.cnf.d/.</p><p>Make sure to have a <em>tmp</em> folder in <em>/var/lib/mysql</em>.</p><blockquote><p>Do not set these MariaDB optimizations on your monitoring server.</p></blockquote><p>Users and groups:</p><table><thead><tr><th>User</th><th>Group</th></tr></thead><tbody><tr><td>centreonBI</td><td>centreonBI</td></tr></tbody></table><p>Description of users, umask and home directory:</p><table><thead><tr><th>User</th><th>umask</th><th>home</th></tr></thead><tbody><tr><td>centreonBI</td><td>0002</td><td>/home/centreonBI</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-extension-on-centreon">Install the extension on Centreon<a href="#install-the-extension-on-centreon" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>The tasks explained in this chapter must be performed on the Centreon
central server.</p><ol><li><p>Install the Centreon Business repository, you can find it on the
<a href="https://support.centreon.com/hc/en-us/categories/10341239833105-Repositories" target="_blank" rel="noopener noreferrer">support portal</a>.</p></li><li><p>Then run the following command:</p></li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-bi-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-bi-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="activate-the-extension">Activate the extension<a href="#activate-the-extension" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>The menu <code>Administration &gt; Extension &gt; Manager</code> of Centreon enables you to
install the different extension detected by Centreon. Click on the <strong>Centreon MBI</strong> card to install it.</p><p>Upload the license sent by the Centreon team to be able to start configuring the General Options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-general-options">Configure the general options<a href="#configure-the-general-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Set the following parameters in the General Options menu <code>Reporting &gt;
Monitoring Business Intelligence &gt; General Options</code>:</p><table><thead><tr><th>Tab</th><th>Option</th><th>Value</th></tr></thead><tbody><tr><td>Scheduler  Options</td><td>CBIS Host</td><td>Reporting server IP Address</td></tr><tr><td>ETL Options</td><td>Reporting engine uses a dedicated MariaDB server</td><td>Yes</td></tr><tr><td>Reporting Widgets <!-- -->*</td><td>Reporting MariaDB database</td><td>Reporting database IP Address (default = same as CBIS Host)</td></tr></tbody></table><p>*<!-- --> <em>The connection test will not yet work at this stage of the
installation process.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="centreon-central-databases-access">Centreon central databases access<a href="#centreon-central-databases-access" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="case-1-mariadb-monitoring-database-is-hosted-on-the-central-monitoring-server">Case #1: MariaDB monitoring database is hosted on the Central monitoring server<a href="#case-1-mariadb-monitoring-database-is-hosted-on-the-central-monitoring-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Launch the command below to authorize the reporting server to connect to
the monitoring server databases. Use the following option:</p><p><strong>@ROOTPWD@</strong>: Root MariaDB password of the monitoring databases
server.If there is no password for &quot;root&quot; user, don&#x27;t specify the
option <strong>root-password</strong>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon/www/modules/centreon-bi-server/tools/centreonMysqlRights.pl --root-password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">@ROOTPWD@</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="case-2-mariadb-monitoring-database-is-hosted-on-a-dedicated-server">Case #2: MariaDB monitoring database is hosted on a dedicated server<a href="#case-2-mariadb-monitoring-database-is-hosted-on-a-dedicated-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Connect by SSH to the database server, and the run the following commands:</p><div class="language-SQL codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-SQL codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE USER &#x27;centreonbi&#x27;@&#x27;$BI_ENGINE_IP$&#x27; IDENTIFIED BY &#x27;centreonbi&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON centreon.* TO &#x27;centreonbi&#x27;@&#x27;$BI_ENGINE_IP$&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT ALL PRIVILEGES ON centreon_storage.* TO &#x27;centreonbi&#x27;@&#x27;$BI_ENGINE_IP$&#x27;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>$BI_ENGINE_IP$</strong>: IP address of the reporting server.</p><blockquote><p>If you&#x27;re using MariaDB replication for your <strong>monitoring databases</strong>,
certain views are created during installation of Centreon MBI. You need
to exclude them from replication by adding the following line in the
my.cnf file of the slave server.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">replicate-wild-ignore-table</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">centreon.mod_bi_%v01,centreon.mod_bi_%V01</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, create the views manually on the slave server by launching the
following command line:</p><p>#mysql centreon &lt; <a target="_blank" href="/centreon-documentation/pr-preview/pr-2546/assets/files/view_creation-eb5f170ad3d8a0853fe926d3a034f8a2.sql/">view_creation.sql</a></p></blockquote><p>Please go to the next chapter to continue the installation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grant-rights-to-user-cbis">Grant rights to user cbis<a href="#grant-rights-to-user-cbis" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>When you install Centreon MBI, a <a href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/monitoring/basic-objects/contacts/">user</a> called <strong>cbis</strong> is automatically created. It allows the report generation engine to extract data from Centreon (using the APIs) in order to put them into the report. This user must <a href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/administration/access-control-lists/">have access to all resources monitored by Centreon</a> to be able to extract performance graphs for the following reports:</p><ul><li><p>Host-Graph-v2 </p></li><li><p>Hostgroup-Graph-v2.</p></li></ul><p>To test the MBI reporting server&#x27;s connection to the Centreon API, use the following command to download a graph. Replace the parameters of the graph and the timestamps by the ones you want, and replace XXXXXXXXX by the autologin token for user <strong>cbis</strong>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-XGET</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://IP_CENTRAL/centreon/include/views/graphs/generateGraphs/generateImage.php?akey=XXXXXXXXX&amp;username=CBIS&amp;hostname=&lt;host_name&gt;&amp;service=&lt;service_description&gt;&amp;start=&lt;start_date&gt;&amp;end=&lt;end_date&gt;&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> /tmp/image.png</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-XGET</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://10.1.1.1/centreon/include/views/graphs/generateGraphs/generateImage.php?akey=otmw3n1hu03bvt9e0caphuf50ph8sdthcsk8ofdk&amp;username=CBIS&amp;hostname=my-poller&amp;service=Cpu&amp;start=1623016800&amp;end=1623621600&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> /tmp/image.png</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output should look like this, and <code>/tmp/image.png</code> should be an image of the graph you wanted:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 Dload  Upload   Total   Spent    Left  Speed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18311</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18311</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">30569</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> --:--:-- --:--:-- --:--:-- </span><span class="token number" style="color:#36acaa">30569</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-dedicated-reporting-server">Install the dedicated reporting server<a href="#install-the-dedicated-reporting-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-packages">Install the packages<a href="#install-the-packages" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>You need the following information available before proceeding with the
installation process:</p><ul><li>IP/DNS of the monitoring database</li><li>IP/DNS of the Centreon web interface</li><li>IP/DNS of the reporting database (localhost highly recommended)</li><li>Access (user/password) to the reporting database</li><li>Knowledge of the SSH password (after defining it) for the Centreon
BI user on the central monitoring server (to publish reports on the
interface).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure">Procedure<a href="#procedure" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ol><li><p>To start installing the reporting server, install the Business repository, you can find it on the
<a href="https://support.centreon.com/hc/en-us/categories/10341239833105-Repositories" target="_blank" rel="noopener noreferrer">support portal</a>.</p></li><li><p>Then execute the following command:</p></li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-bi-reporting-server MariaDB-server MariaDB-client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you installed your reporting server using a fresh distribution you
need to add the following GPG key:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /etc/pki/rpm-gpg/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://yum.centreon.com/standard/21.10/el8/stable/RPM-GPG-KEY-CES</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-bi-reporting-server MariaDB-server MariaDB-client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you installed your reporting server using a fresh distribution you
need to add the following GPG key:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /etc/pki/rpm-gpg/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://yum.centreon.com/standard/21.10/el7/stable/RPM-GPG-KEY-CES</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>Enable the cbis service:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> cbis</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reporting-server-configuration">Reporting server configuration<a href="#reporting-server-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="mariadb-optimization">MariaDB optimization<a href="#mariadb-optimization" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Make sure you have installed the MariaDB configuration file provided in
the pre-requisites before starting the MariaDB service <a target="_blank" href="/centreon-documentation/pr-preview/pr-2546/assets/files/centreon-55f8e9461ad0d121a6603b4417c2ea49.cnf/">following file</a></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart mariadb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For installation, it is necessary to modify <strong>LimitNOFILE</strong> limitation.
Setting this option in /etc/my.cnf will NOT work.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain">  /etc/systemd/system/mariadb.service.d/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-ne</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[Service]</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">LimitNOFILE=32000</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/systemd/system/mariadb.service.d/limits.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart mariadb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then start the service MariaDB. If this service cannot start, remove the
ib_log files before restarting MariaDB (be sure MariaDB is stopped):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> /var/lib/mysql/ib_logfile*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start mariadb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are using a custom MariaDB socket file, modify the <code>/etc/my.cnf</code> file
and in the <!-- -->[client]<!-- --> section, add the following variable:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">socket</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$PATH_TO_SOCKET</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-configuring">Start configuring<a href="#start-configuring" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>First check that the reporting MariaDB is running. Then launch the
following command, answering the questions:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/config/install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The script handles the SSH exchange key between the monitoring and
reporting servers and configures the default SFTP publication rule in
order to publish reports on the Centreon web interface. Finally, it
activates the backup and starts the CBIS service.</p><p>Once installation is complete, go to the next chapter to configure the ETL.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="etl-configuration">ETL: Configuration<a href="#etl-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Centreon MBI integrates its own extract, transform, load (ETL)
capabilities to:</p><ul><li>Synchronize raw monitoring data with the reporting server.</li><li>Calculate availability and performance statistics on the reporting
server.</li><li>Manage data retention on the reporting server.</li></ul><p>Before following the next steps, you should have read
<a href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/#best-practices-for-monitoring">the best practice parts</a> to
ensure that the Centreon objects (e.g., groups and categories) are configured
according to Centreon MBI requirements.</p><p>In the <em>Reporting &gt; Business Intelligence &gt; General Options &gt; ETL options</em> menu
of the Centreon server, specify the following options:</p><table><thead><tr><th><strong>Options</strong></th><th><strong>Values</strong></th></tr></thead><tbody><tr><td><strong>General options</strong></td><td></td></tr><tr><td>Reporting engine uses a dedicated dedicated MariaDB server</td><td>Yes. You <strong>must</strong> use a reporting server</td></tr><tr><td>Compatibility mode to use report templates from version of Centreon MBI prior to 1.5.0</td><td>No (deprecated)</td></tr><tr><td>Temporary file storage directory on reporting server</td><td>Folder where dumps will be stored on the reporting server</td></tr><tr><td>Type of statistics to build</td><td>Select “Availability only” if you only use availability reports. Select “Performance and capacity only” if you only want to use capacity and performance reports. Select “All” to calculate the statistics for both types of reports.</td></tr><tr><td>Use large memory tweaks (store MariaDB temporary tables in memory)</td><td>Activated only if your MariaDB configuration and allocated physical memory on the server permit.</td></tr><tr><td><strong>Reporting perimeter selection</strong></td><td></td></tr><tr><td>Hostgroups</td><td>Select only host groups for which you want to aggregate data.</td></tr><tr><td>Hostcategories</td><td>Select only host categories for which you want to aggregate data.</td></tr><tr><td>Service categories</td><td>Select only service categories for which you want to aggregate data.</td></tr><tr><td><strong>Availability statistic calculation</strong></td><td></td></tr><tr><td>Live services for availability statistics calculation</td><td>Select required time periods.</td></tr><tr><td><strong>Performance and capacity statistic calculation</strong></td><td></td></tr><tr><td>Granularity required for performance data statistics</td><td>Select level of granularity required to run the desired performance reports (1).</td></tr><tr><td>Live services for performance data statistics calculation</td><td>Select required time periods.</td></tr><tr><td><strong>Capacity statistic aggregated by month</strong></td><td></td></tr><tr><td>Live services for capacity statistics calculation</td><td>Select the “24x7” time period.</td></tr><tr><td>Service categories related to capacity data monitoring</td><td>Select the service categories that have been associated with capacity-type services.</td></tr><tr><td>Exclude metrics from service categories that do not return capacity USAGE information</td><td>Concerns the metrics linked to services which return capacity data. Select the metrics that do not return capacity usage information. but a maximum or total value. (e.g., the metric “size”).</td></tr><tr><td><strong>Centile parameters</strong></td><td></td></tr><tr><td>Calculating centile aggregation by</td><td>Select the desired aggregation level. The standard percentile report provided with BI 2.1 uses Month data.</td></tr><tr><td>Select service categories to aggregate centile on</td><td>Filter on relevant service categories for centile statistics (e.g., Traffic).</td></tr><tr><td>First day of the week</td><td>Select the first day of the week for Week aggregation.</td></tr><tr><td>Centile / Timeperiod combination</td><td>Create a new centile/timeperiod combination on which to perform the calculation.</td></tr></tbody></table><p><strong>(1)</strong> Reports requiring a precise value per hour of performance data
are listed below. If you do not use the following reports, disable the
statistics calculation per hour:</p><ul><li>Hostgroup-Host-details-1</li><li>Host-detail-v2</li><li>Hostgroup-traffic-Average-Usage-By-Interface</li><li>Hostgroup-traffic-by-Interface-And-Bandwith-Ranges.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="etl-data-retention">ETL: Data retention<a href="#etl-data-retention" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>The reporting server contains statistics tables specific to Centreon MBI
in the database &quot;centreon_storage&quot;. The storage space used by these
tables increases every day. It is possible to control the size of these
tables by setting data retention rules.</p><p>Under <em>Reporting &gt; Monitoring Business Intelligence &gt; General options &gt; Data retention</em>,
data retention can be managed by:</p><ul><li>Type of data (availability, performance).</li><li>Precision of data (raw data, hourly, daily or monthly values).</li></ul><blockquote><p>Before enabling the data retention options, check that the <strong>Reporting
engine uses a dedicated MariaDB server</strong> option is correctly set to
&quot;Yes&quot; in the <em>Reporting &gt; Business Intelligence &gt; General options ETL options</em> menu.</p></blockquote><p>Enable data retention management by selecting &quot;Yes&quot;, then set the
options in the configuration (example below).</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/pr-2546/assets/images/bi_retention-543fb795088d6933e31f289b1555061f.png" width="1392" height="552" class="img_ev3q"></p><p>To activate automatic purge of old data, edit the cron file
<code>/etc/cron.d/centreon-bi-purge</code> on the reporting server, then uncomment the following line:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#0 20 * * * root @CENTREON_BI_HOME@/*etl*/dataRetentionManager.pl &gt;&gt; @CENTREON_BI_LOG@/dataRetentionManager.log 2&gt;&amp;1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Avoid periods scheduled for statistical calculations with Centreon MBI
ETL and report generations.</p><p>You can run this cron daily or weekly, depending on the execution time of the batch and the load generated on the server.</p><p>Then restart the service cron:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart crond</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>BEST PRACTICE</strong>: Select different retention periods according to the
granularity of the statistical data:</p><ul><li>Hourly aggregated values are used to analyze a metric over a short period, they take a
lot of space on the disk. You may not need to keep these statistics more that two or three months.</li><li>Beyond five or six months, you may only need to view the trend for
availability or performance statistics. You could then keep the
daily aggregated data for a maximum of six months, for example, and
configure the retention of monthly aggregated data for a period of
several dozen months.</li></ul><p>Please go to the next chapter to continue the installation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="etl-execution">ETL: Execution<a href="#etl-execution" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>Before continuing, be sure that you have installed the MariaDB
configuration file as specified above in the prerequisites. Configure
and activate data retention so that only the required data is imported
and calculated.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rebuilding-statistics-using-historical-data">Rebuilding statistics using historical data<a href="#rebuilding-statistics-using-historical-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Run the following command on the <em>REPORTING</em> server, it will:</p><ul><li>Delete all existing data from the reporting server.</li><li>Import raw monitoring data from the monitoring server to the
reporting server (based on retention parameters).</li><li>Populate the tables containing the availability statistics for hosts
and services.</li><li>Populate the tables containing the performance and capacity
statistics.</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/bin/centreonBIETL </span><span class="token parameter variable" style="color:#36acaa">-r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="activating-daily-execution-of-the-script">Activating daily execution (of the script)<a href="#activating-daily-execution-of-the-script" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Once the rebuild process is finished, you can activate the daily
statistic calculation. On the reporting server, edit the file
<em>/etc/cron.d/centreon-bi-engine</em> and uncomment the following line:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#30 4 * * * root /usr/share/centreon-bi/bin/centreonBIETL -d &gt;&gt; /var/log/centreon-bi/centreonBIETL.log 2&gt;&amp;1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Restart the service cron:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart crond</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Make sure that the batch <em>centreonBIETL</em> starts only once the batch
<em>eventReportBuilder</em> has finished on the monitoring server (see the cron
file <!-- -->*<!-- --> /etc/cron.d/centreon<!-- -->*<!-- --> on the monitoring server).</p></blockquote><p>Centreon MBI installation is now complete, check <a href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/getting-started/analyze-resources-availability/">the tutorial</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/centreon/centreon-documentation/edit/staging/versioned_docs/version-21.10/reporting/installation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col"><svg id="feedback" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve" fill="none" style="height:24px;width:24px;vertical-align:text-top;margin-right:4px"><rect y="0" class="st0" width="24" height="24"></rect><rect x="2" y="2" class="st0" width="20" height="20"></rect><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M16.14,9.08c0,3.09-2.76,5.6-6.16,5.6c-1.11,0-5.45,0-5.45,0s1.36-1.38,0.93-1.79c-1.02-1-1.64-2.34-1.64-3.81 c0-3.09,2.76-5.6,6.16-5.6S16.14,5.99,16.14,9.08z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" d="M8.61,16.28c0.76,2.31,3.12,4,5.91,4c1.11,0,5.45,0,5.45,0s-1.36-1.38-0.93-1.79c1.02-1,1.64-2.34,1.64-3.81 c0-2-1.15-3.75-2.88-4.74"></path><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="6.86" x2="13.55" y2="6.86"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="8.74" x2="13.55" y2="8.74"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="10.62" x2="13.55" y2="10.62"></line></svg><a rel="noreferrer noopener" href="https://docs.google.com/forms/d/e/1FAIpQLSdeKkEHWbxn4ZweR1M4OEMzP_QoqKmjl6t4iC_yKeX2CFjzAw/viewform?usp=pp_url&amp;entry.371845164=docs.centreon.com/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/installation/" target="_blank">Give feedback on this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-11T13:57:08.000Z">Sep 11, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/report-development/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Report development</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/centreon-documentation/pr-preview/pr-2546/docs/21.10/reporting/update/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Update the extension</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#dedicated-reporting-server" class="table-of-contents__link toc-highlight">Dedicated reporting server</a></li><li><a href="#network-flow-table" class="table-of-contents__link toc-highlight">Network flow table</a></li><li><a href="#packages-information" class="table-of-contents__link toc-highlight">Packages information</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#centreon-central-server" class="table-of-contents__link toc-highlight">Centreon central server</a></li><li><a href="#reporting-dedicated-server" class="table-of-contents__link toc-highlight">Reporting dedicated server</a></li></ul></li><li><a href="#install-the-extension-on-centreon" class="table-of-contents__link toc-highlight">Install the extension on Centreon</a><ul><li><a href="#activate-the-extension" class="table-of-contents__link toc-highlight">Activate the extension</a></li><li><a href="#configure-the-general-options" class="table-of-contents__link toc-highlight">Configure the general options</a></li><li><a href="#centreon-central-databases-access" class="table-of-contents__link toc-highlight">Centreon central databases access</a></li><li><a href="#grant-rights-to-user-cbis" class="table-of-contents__link toc-highlight">Grant rights to user cbis</a></li></ul></li><li><a href="#install-the-dedicated-reporting-server" class="table-of-contents__link toc-highlight">Install the dedicated reporting server</a><ul><li><a href="#install-the-packages" class="table-of-contents__link toc-highlight">Install the packages</a></li><li><a href="#reporting-server-configuration" class="table-of-contents__link toc-highlight">Reporting server configuration</a></li><li><a href="#start-configuring" class="table-of-contents__link toc-highlight">Start configuring</a></li><li><a href="#etl-configuration" class="table-of-contents__link toc-highlight">ETL: Configuration</a></li><li><a href="#etl-data-retention" class="table-of-contents__link toc-highlight">ETL: Data retention</a></li><li><a href="#etl-execution" class="table-of-contents__link toc-highlight">ETL: Execution</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Corporate Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://download.centreon.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/centreon-documentation/pr-preview/pr-2546/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/centreon-documentation/pr-preview/pr-2546/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2005 - 2023 Centreon</div></div></div></footer></div>
<script src="/centreon-documentation/pr-preview/pr-2546/assets/js/runtime~main.e3e85345.js"></script>
<script src="/centreon-documentation/pr-preview/pr-2546/assets/js/main.76ae841c.js"></script>
</body>
</html>